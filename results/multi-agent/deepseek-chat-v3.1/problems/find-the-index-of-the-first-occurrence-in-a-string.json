{
  "Question": {
    "Data": {
      "Question": {
        "questionFrontendId": "28",
        "questionId": "28",
        "Content": "<p>Given two strings <code>needle</code> and <code>haystack</code>, return the index of the first occurrence of <code>needle</code> in <code>haystack</code>, or <code>-1</code> if <code>needle</code> is not part of <code>haystack</code>.</p>\n\n<p>&nbsp;</p>\n<p><strong class=\"example\">Example 1:</strong></p>\n\n<pre>\n<strong>Input:</strong> haystack = &quot;sadbutsad&quot;, needle = &quot;sad&quot;\n<strong>Output:</strong> 0\n<strong>Explanation:</strong> &quot;sad&quot; occurs at index 0 and 6.\nThe first occurrence is at index 0, so we return 0.\n</pre>\n\n<p><strong class=\"example\">Example 2:</strong></p>\n\n<pre>\n<strong>Input:</strong> haystack = &quot;leetcode&quot;, needle = &quot;leeto&quot;\n<strong>Output:</strong> -1\n<strong>Explanation:</strong> &quot;leeto&quot; did not occur in &quot;leetcode&quot;, so we return -1.\n</pre>\n\n<p>&nbsp;</p>\n<p><strong>Constraints:</strong></p>\n\n<ul>\n\t<li><code>1 &lt;= haystack.length, needle.length &lt;= 10<sup>4</sup></code></li>\n\t<li><code>haystack</code> and <code>needle</code> consist of only lowercase English characters.</li>\n</ul>\n",
        "SampleTestCase": "\"sadbutsad\"\n\"sad\"",
        "ExampleTestcases": "\"sadbutsad\"\n\"sad\"\n\"leetcode\"\n\"leeto\"",
        "Difficulty": "Easy",
        "Title": "Find the Index of the First Occurrence in a String",
        "TitleSlug": "find-the-index-of-the-first-occurrence-in-a-string",
        "IsPaidOnly": false,
        "Stats": "{\"totalAccepted\": \"3.7M\", \"totalSubmission\": \"8.1M\", \"totalAcceptedRaw\": 3707237, \"totalSubmissionRaw\": 8093165, \"acRate\": \"45.8%\"}",
        "Likes": 7242,
        "Dislikes": 549,
        "FreqBar": 0,
        "CategoryTitle": "Algorithms",
        "TopicTags": [
          {
            "Id": "VG9waWNUYWdOb2RlOjk=",
            "Name": "Two Pointers",
            "Slug": "two-pointers"
          },
          {
            "Id": "VG9waWNUYWdOb2RlOjEw",
            "Name": "String",
            "Slug": "string"
          },
          {
            "Id": "VG9waWNUYWdOb2RlOjYxMDUy",
            "Name": "String Matching",
            "Slug": "string-matching"
          }
        ],
        "CodeSnippets": [
          {
            "Lang": "C++",
            "LangSlug": "cpp",
            "Code": "class Solution {\npublic:\n    int strStr(string haystack, string needle) {\n        \n    }\n};"
          },
          {
            "Lang": "Java",
            "LangSlug": "java",
            "Code": "class Solution {\n    public int strStr(String haystack, String needle) {\n        \n    }\n}"
          },
          {
            "Lang": "Python3",
            "LangSlug": "python3",
            "Code": "class Solution:\n    def strStr(self, haystack: str, needle: str) -> int:\n        "
          },
          {
            "Lang": "Python",
            "LangSlug": "python",
            "Code": "class Solution(object):\n    def strStr(self, haystack, needle):\n        \"\"\"\n        :type haystack: str\n        :type needle: str\n        :rtype: int\n        \"\"\"\n        "
          },
          {
            "Lang": "JavaScript",
            "LangSlug": "javascript",
            "Code": "/**\n * @param {string} haystack\n * @param {string} needle\n * @return {number}\n */\nvar strStr = function(haystack, needle) {\n    \n};"
          },
          {
            "Lang": "TypeScript",
            "LangSlug": "typescript",
            "Code": "function strStr(haystack: string, needle: string): number {\n    \n};"
          },
          {
            "Lang": "C#",
            "LangSlug": "csharp",
            "Code": "public class Solution {\n    public int StrStr(string haystack, string needle) {\n        \n    }\n}"
          },
          {
            "Lang": "C",
            "LangSlug": "c",
            "Code": "int strStr(char* haystack, char* needle) {\n    \n}"
          },
          {
            "Lang": "Go",
            "LangSlug": "golang",
            "Code": "func strStr(haystack string, needle string) int {\n    \n}"
          },
          {
            "Lang": "Kotlin",
            "LangSlug": "kotlin",
            "Code": "class Solution {\n    fun strStr(haystack: String, needle: String): Int {\n        \n    }\n}"
          },
          {
            "Lang": "Swift",
            "LangSlug": "swift",
            "Code": "class Solution {\n    func strStr(_ haystack: String, _ needle: String) -> Int {\n        \n    }\n}"
          },
          {
            "Lang": "Rust",
            "LangSlug": "rust",
            "Code": "impl Solution {\n    pub fn str_str(haystack: String, needle: String) -> i32 {\n        \n    }\n}"
          },
          {
            "Lang": "Ruby",
            "LangSlug": "ruby",
            "Code": "# @param {String} haystack\n# @param {String} needle\n# @return {Integer}\ndef str_str(haystack, needle)\n    \nend"
          },
          {
            "Lang": "PHP",
            "LangSlug": "php",
            "Code": "class Solution {\n\n    /**\n     * @param String $haystack\n     * @param String $needle\n     * @return Integer\n     */\n    function strStr($haystack, $needle) {\n        \n    }\n}"
          },
          {
            "Lang": "Dart",
            "LangSlug": "dart",
            "Code": "class Solution {\n  int strStr(String haystack, String needle) {\n    \n  }\n}"
          },
          {
            "Lang": "Scala",
            "LangSlug": "scala",
            "Code": "object Solution {\n    def strStr(haystack: String, needle: String): Int = {\n        \n    }\n}"
          },
          {
            "Lang": "Elixir",
            "LangSlug": "elixir",
            "Code": "defmodule Solution do\n  @spec str_str(haystack :: String.t, needle :: String.t) :: integer\n  def str_str(haystack, needle) do\n    \n  end\nend"
          },
          {
            "Lang": "Erlang",
            "LangSlug": "erlang",
            "Code": "-spec str_str(Haystack :: unicode:unicode_binary(), Needle :: unicode:unicode_binary()) -> integer().\nstr_str(Haystack, Needle) ->\n  ."
          },
          {
            "Lang": "Racket",
            "LangSlug": "racket",
            "Code": "(define/contract (str-str haystack needle)\n  (-> string? string? exact-integer?)\n  )"
          }
        ],
        "CompanyTagStats": ""
      }
    },
    "DownloadedAt": "2025-11-17T15:38:12.319111+01:00",
    "AcRate": "45.8",
    "TotalSubmissions": 8093165,
    "TotalAccepted": 3707237,
    "AcceptanceRate": 0.45807011224903976,
    "ContentFeatures": "",
    "CodeSnippetFeatures": {
      "c": "",
      "cpp": "",
      "csharp": "",
      "dart": "",
      "elixir": "",
      "erlang": "",
      "golang": "",
      "java": "",
      "javascript": "",
      "kotlin": "",
      "php": "",
      "python": "",
      "python3": "",
      "racket": "",
      "ruby": "",
      "rust": "",
      "scala": "",
      "swift": "",
      "typescript": ""
    },
    "Url": "https://leetcode.com/problems/find-the-index-of-the-first-occurrence-in-a-string/"
  },
  "Solutions": {
    "deepseek/deepseek-chat-v3.1": {
      "Lang": "python3",
      "Prompt": "Multi-agent approach:\n1. Analysis\n2. Design\n3. Implementation\n4. Verification",
      "Answer": "=== ANALYSIS ===\n```python\nclass Solution:\n    def strStr(self, haystack: str, needle: str) -> int:\n        n = len(haystack)\n        m = len(needle)\n        \n        if m == 0:\n            return 0\n        \n        if n < m:\n            return -1\n        \n        for i in range(n - m + 1):\n            if haystack[i:i + m] == needle:\n                return i\n        \n        return -1\n```\n\n=== DESIGN ===\n**Algorithm Choice**: The problem is a classic string matching problem. The straightforward approach is to use a sliding window to check each possible starting position in the haystack for the needle. This approach is efficient enough given the constraints (lengths up to 10^4), as it has a worst-case time complexity of O(n*m), which is acceptable for these input sizes. More advanced algorithms like KMP could be used for better worst-case performance, but the simple approach is sufficient here.\n\n**Step-by-Step Approach**:\n1. Check if the needle is empty \u2014 return 0.\n2. Check if the needle is longer than the haystack \u2014 return -1.\n3. Iterate through each possible starting index in the haystack where the needle could fit.\n4. For each index, check if the substring of haystack starting at that index matches the needle.\n5. If a match is found, return the starting index.\n6. If no match is found after checking all indices, return -1.\n\n**Data Structures**: Only strings and integers are needed; no additional data structures are required.\n\n**Time Complexity**: O(n*m), where n is the length of haystack and m is the length of needle. In the worst case, we check each starting index and compare up to m characters.\n\n**Space Complexity**: O(1), as no extra space is used apart from a few variables.\n\n**Pseudocode**:\n```\nfunction strStr(haystack, needle):\n    n = length of haystack\n    m = length of needle\n    if m == 0:\n        return 0\n    if n < m:\n        return -1\n    for i from 0 to n - m:\n        if haystack[i:i+m] equals needle:\n            return i\n    return -1\n```\n\n```python\nclass Solution:\n    def strStr(self, haystack: str, needle: str) -> int:\n        n = len(haystack)\n        m = len(needle)\n        \n        if m == 0:\n            return 0\n        \n        if n < m:\n            return -1\n        \n        for i in range(n - m + 1):\n            if haystack[i:i + m] == needle:\n                return i\n        \n        return -1\n```\n\n=== IMPLEMENTATION ===\n```python\nclass Solution:\n    def strStr(self, haystack: str, needle: str) -> int:\n        n = len(haystack)\n        m = len(needle)\n        \n        if m == 0:\n            return 0\n        \n        if n < m:\n            return -1\n        \n        for i in range(n - m + 1):\n            if haystack[i:i + m] == needle:\n                return i\n        \n        return -1\n```\n\n=== VERIFICATION ===\n**Verification Report:**\n\n**1. Correctness:**\nThe code correctly implements the designed algorithm. It uses a sliding window to check each possible starting index in the haystack for the needle. The comparisons are done using string slicing, which is correct for exact matches.\n\n**2. Edge Cases:**\nThe code handles all edge cases:\n- Empty needle (returns 0).\n- Needle longer than haystack (returns -1).\n- Needle at the beginning (index 0).\n- Needle at the end (index n - m).\n- No occurrence (returns -1).\n\n**3. Complexity:**\nThe time complexity is O(n*m), which is acceptable for the given constraints (n, m <= 10^4). The worst-case scenario (e.g., haystack = \"aaaaaaaa\", needle = \"aaaab\") would require many comparisons, but it should still run within limits. The space complexity is O(1), as no extra data structures are used.\n\n**4. Code Quality:**\nThe code is clean and readable. It uses meaningful variable names (n, m) and follows a straightforward logic. It adheres to Python best practices.\n\n**5. Test Cases:**\n- Example 1: haystack = \"sadbutsad\", needle = \"sad\"\n  - i=0: haystack[0:3] = \"sad\" == needle -> returns 0. Correct.\n- Example 2: haystack = \"leetcode\", needle = \"leeto\"\n  - No match found -> returns -1. Correct.\n\n**6. Potential Issues:**\nThere are no bugs or logical errors. The solution is correct and efficient enough for the problem constraints. However, for extremely large inputs (beyond 10^4), a more efficient algorithm like KMP (O(n+m)) might be preferred. But given the constraints, the current solution is acceptable.\n\n**Final Code:**\n```python\nclass Solution:\n    def strStr(self, haystack: str, needle: str) -> int:\n        n = len(haystack)\n        m = len(needle)\n        \n        if m == 0:\n            return 0\n        \n        if n < m:\n            return -1\n        \n        for i in range(n - m + 1):\n            if haystack[i:i + m] == needle:\n                return i\n        \n        return -1\n```\n\n",
      "TypedCode": "\nclass Solution:\n    def strStr(self, haystack: str, needle: str) -> int:\n        n = len(haystack)\n        m = len(needle)\n        \n        if m == 0:\n            return 0\n        \n        if n < m:\n            return -1\n        \n        for i in range(n - m + 1):\n            if haystack[i:i + m] == needle:\n                return i\n        \n        return -1\n",
      "Model": "deepseek/deepseek-chat-v3.1",
      "Latency": 16631158249,
      "SolvedAt": "2025-11-20T23:53:08.077383+01:00",
      "PromptTokens": 3453,
      "OutputTokens": 1159
    }
  },
  "Submissions": {
    "deepseek/deepseek-chat-v3.1": {
      "SubmitRequest": {
        "lang": "python3",
        "question_id": "28",
        "typed_code": "\nclass Solution:\n    def strStr(self, haystack: str, needle: str) -> int:\n        n = len(haystack)\n        m = len(needle)\n        \n        if m == 0:\n            return 0\n        \n        if n < m:\n            return -1\n        \n        for i in range(n - m + 1):\n            if haystack[i:i + m] == needle:\n                return i\n        \n        return -1\n"
      },
      "SubmissionId": 0,
      "CheckResponse": {
        "status_code": 10,
        "status_msg": "Accepted",
        "Finished": true,
        "State": "SUCCESS"
      },
      "SubmittedAt": "2025-11-21T01:42:09+01:00"
    }
  }
}