{
  "Question": {
    "Data": {
      "Question": {
        "questionFrontendId": "1049",
        "questionId": "1130",
        "Content": "<p>You are given an array of integers <code>stones</code> where <code>stones[i]</code> is the weight of the <code>i<sup>th</sup></code> stone.</p>\n\n<p>We are playing a game with the stones. On each turn, we choose any two stones and smash them together. Suppose the stones have weights <code>x</code> and <code>y</code> with <code>x &lt;= y</code>. The result of this smash is:</p>\n\n<ul>\n\t<li>If <code>x == y</code>, both stones are destroyed, and</li>\n\t<li>If <code>x != y</code>, the stone of weight <code>x</code> is destroyed, and the stone of weight <code>y</code> has new weight <code>y - x</code>.</li>\n</ul>\n\n<p>At the end of the game, there is <strong>at most one</strong> stone left.</p>\n\n<p>Return <em>the smallest possible weight of the left stone</em>. If there are no stones left, return <code>0</code>.</p>\n\n<p>&nbsp;</p>\n<p><strong class=\"example\">Example 1:</strong></p>\n\n<pre>\n<strong>Input:</strong> stones = [2,7,4,1,8,1]\n<strong>Output:</strong> 1\n<strong>Explanation:</strong>\nWe can combine 2 and 4 to get 2, so the array converts to [2,7,1,8,1] then,\nwe can combine 7 and 8 to get 1, so the array converts to [2,1,1,1] then,\nwe can combine 2 and 1 to get 1, so the array converts to [1,1,1] then,\nwe can combine 1 and 1 to get 0, so the array converts to [1], then that&#39;s the optimal value.\n</pre>\n\n<p><strong class=\"example\">Example 2:</strong></p>\n\n<pre>\n<strong>Input:</strong> stones = [31,26,33,21,40]\n<strong>Output:</strong> 5\n</pre>\n\n<p>&nbsp;</p>\n<p><strong>Constraints:</strong></p>\n\n<ul>\n\t<li><code>1 &lt;= stones.length &lt;= 30</code></li>\n\t<li><code>1 &lt;= stones[i] &lt;= 100</code></li>\n</ul>\n",
        "SampleTestCase": "[2,7,4,1,8,1]",
        "ExampleTestcases": "[2,7,4,1,8,1]\n[31,26,33,21,40]",
        "Difficulty": "Medium",
        "Title": "Last Stone Weight II",
        "TitleSlug": "last-stone-weight-ii",
        "IsPaidOnly": false,
        "Stats": "{\"totalAccepted\": \"123.4K\", \"totalSubmission\": \"210.3K\", \"totalAcceptedRaw\": 123427, \"totalSubmissionRaw\": 210309, \"acRate\": \"58.7%\"}",
        "Likes": 3326,
        "Dislikes": 137,
        "FreqBar": 0,
        "CategoryTitle": "Algorithms",
        "TopicTags": [
          {
            "Id": "VG9waWNUYWdOb2RlOjU=",
            "Name": "Array",
            "Slug": "array"
          },
          {
            "Id": "VG9waWNUYWdOb2RlOjEz",
            "Name": "Dynamic Programming",
            "Slug": "dynamic-programming"
          }
        ],
        "CodeSnippets": [
          {
            "Lang": "C++",
            "LangSlug": "cpp",
            "Code": "class Solution {\npublic:\n    int lastStoneWeightII(vector<int>& stones) {\n        \n    }\n};"
          },
          {
            "Lang": "Java",
            "LangSlug": "java",
            "Code": "class Solution {\n    public int lastStoneWeightII(int[] stones) {\n        \n    }\n}"
          },
          {
            "Lang": "Python3",
            "LangSlug": "python3",
            "Code": "class Solution:\n    def lastStoneWeightII(self, stones: List[int]) -> int:\n        "
          },
          {
            "Lang": "Python",
            "LangSlug": "python",
            "Code": "class Solution(object):\n    def lastStoneWeightII(self, stones):\n        \"\"\"\n        :type stones: List[int]\n        :rtype: int\n        \"\"\"\n        "
          },
          {
            "Lang": "JavaScript",
            "LangSlug": "javascript",
            "Code": "/**\n * @param {number[]} stones\n * @return {number}\n */\nvar lastStoneWeightII = function(stones) {\n    \n};"
          },
          {
            "Lang": "TypeScript",
            "LangSlug": "typescript",
            "Code": "function lastStoneWeightII(stones: number[]): number {\n    \n};"
          },
          {
            "Lang": "C#",
            "LangSlug": "csharp",
            "Code": "public class Solution {\n    public int LastStoneWeightII(int[] stones) {\n        \n    }\n}"
          },
          {
            "Lang": "C",
            "LangSlug": "c",
            "Code": "int lastStoneWeightII(int* stones, int stonesSize) {\n    \n}"
          },
          {
            "Lang": "Go",
            "LangSlug": "golang",
            "Code": "func lastStoneWeightII(stones []int) int {\n    \n}"
          },
          {
            "Lang": "Kotlin",
            "LangSlug": "kotlin",
            "Code": "class Solution {\n    fun lastStoneWeightII(stones: IntArray): Int {\n        \n    }\n}"
          },
          {
            "Lang": "Swift",
            "LangSlug": "swift",
            "Code": "class Solution {\n    func lastStoneWeightII(_ stones: [Int]) -> Int {\n        \n    }\n}"
          },
          {
            "Lang": "Rust",
            "LangSlug": "rust",
            "Code": "impl Solution {\n    pub fn last_stone_weight_ii(stones: Vec<i32>) -> i32 {\n        \n    }\n}"
          },
          {
            "Lang": "Ruby",
            "LangSlug": "ruby",
            "Code": "# @param {Integer[]} stones\n# @return {Integer}\ndef last_stone_weight_ii(stones)\n    \nend"
          },
          {
            "Lang": "PHP",
            "LangSlug": "php",
            "Code": "class Solution {\n\n    /**\n     * @param Integer[] $stones\n     * @return Integer\n     */\n    function lastStoneWeightII($stones) {\n        \n    }\n}"
          },
          {
            "Lang": "Dart",
            "LangSlug": "dart",
            "Code": "class Solution {\n  int lastStoneWeightII(List<int> stones) {\n    \n  }\n}"
          },
          {
            "Lang": "Scala",
            "LangSlug": "scala",
            "Code": "object Solution {\n    def lastStoneWeightII(stones: Array[Int]): Int = {\n        \n    }\n}"
          },
          {
            "Lang": "Elixir",
            "LangSlug": "elixir",
            "Code": "defmodule Solution do\n  @spec last_stone_weight_ii(stones :: [integer]) :: integer\n  def last_stone_weight_ii(stones) do\n    \n  end\nend"
          },
          {
            "Lang": "Erlang",
            "LangSlug": "erlang",
            "Code": "-spec last_stone_weight_ii(Stones :: [integer()]) -> integer().\nlast_stone_weight_ii(Stones) ->\n  ."
          },
          {
            "Lang": "Racket",
            "LangSlug": "racket",
            "Code": "(define/contract (last-stone-weight-ii stones)\n  (-> (listof exact-integer?) exact-integer?)\n  )"
          }
        ],
        "CompanyTagStats": ""
      }
    },
    "DownloadedAt": "2025-11-17T14:44:49.944708+01:00",
    "AcRate": "58.7",
    "TotalSubmissions": 210309,
    "TotalAccepted": 123427,
    "AcceptanceRate": 0.5868840610720416,
    "ContentFeatures": "",
    "CodeSnippetFeatures": {
      "c": "",
      "cpp": "",
      "csharp": "",
      "dart": "",
      "elixir": "",
      "erlang": "",
      "golang": "",
      "java": "",
      "javascript": "",
      "kotlin": "",
      "php": "",
      "python": "",
      "python3": "",
      "racket": "",
      "ruby": "",
      "rust": "",
      "scala": "",
      "swift": "",
      "typescript": ""
    },
    "Url": "https://leetcode.com/problems/last-stone-weight-ii/"
  },
  "Solutions": {
    "deepseek/deepseek-chat-v3.1": {
      "Lang": "python3",
      "Prompt": "Multi-agent approach:\n1. Analysis\n2. Design\n3. Implementation\n4. Verification",
      "Answer": "=== ANALYSIS ===\nLooking at this problem, I can see it's essentially a variation of the partition problem. The goal is to split the stones into two groups such that their sums are as close as possible. The minimum difference between the two groups will be the smallest possible weight of the remaining stone.\n\nHere's my analysis and solution:\n\n1. **Problem Type Classification**: Dynamic Programming (0-1 Knapsack variant)\n\n2. **Key Patterns & Algorithms**:\n   - This is equivalent to partitioning the array into two subsets with minimum absolute difference\n   - The optimal strategy is to make the two piles as equal as possible\n   - The remaining stone weight equals the absolute difference between the two piles\n\n3. **Constraints Analysis**:\n   - With n \u2264 30 and sum \u2264 3000 (30\u00d7100), a DP solution with O(n\u00d7sum) complexity is feasible\n\n4. **Edge Cases**:\n   - Single stone: return that stone's weight\n   - All stones same weight: return 0 if even count, stone weight if odd count\n   - Empty array: return 0\n\n5. **Input/Output Analysis**:\n   - Input: list of integers representing stone weights\n   - Output: integer representing minimum possible remaining stone weight\n\n6. **Difficulty Assessment**: Medium - requires recognizing the connection to partition problem and implementing DP efficiently\n\n```python\nfrom typing import List\n\nclass Solution:\n    def lastStoneWeightII(self, stones: List[int]) -> int:\n        total = sum(stones)\n        target = total // 2\n        dp = [False] * (target + 1)\n        dp[0] = True\n        \n        for stone in stones:\n            for j in range(target, stone - 1, -1):\n                dp[j] = dp[j] or dp[j - stone]\n        \n        for i in range(target, -1, -1):\n            if dp[i]:\n                return total - 2 * i\n        return 0\n```\n\n=== DESIGN ===\n```python\nfrom typing import List\n\nclass Solution:\n    def lastStoneWeightII(self, stones: List[int]) -> int:\n        total = sum(stones)\n        target = total // 2\n        dp = [False] * (target + 1)\n        dp[0] = True\n        \n        for stone in stones:\n            for j in range(target, stone - 1, -1):\n                if dp[j - stone]:\n                    dp[j] = True\n        \n        for i in range(target, -1, -1):\n            if dp[i]:\n                return total - 2 * i\n        return 0\n```\n\n=== IMPLEMENTATION ===\n```python\nfrom typing import List\n\nclass Solution:\n    def lastStoneWeightII(self, stones: List[int]) -> int:\n        total = sum(stones)\n        target = total // 2\n        dp = [False] * (target + 1)\n        dp[0] = True\n        \n        for stone in stones:\n            for j in range(target, stone - 1, -1):\n                if dp[j - stone]:\n                    dp[j] = True\n        \n        for i in range(target, -1, -1):\n            if dp[i]:\n                return total - 2 * i\n        return 0\n```\n\n=== VERIFICATION ===\nThe solution provided is correct and efficient. Here's the verification report:\n\n### 1. **Correctness**\nThe code correctly implements the designed algorithm:\n- It calculates the total sum of all stones\n- Uses dynamic programming to find the maximum achievable sum \u2264 total//2\n- Returns the difference between total and twice the found sum (which is the minimum possible remaining stone weight)\n\n### 2. **Edge Cases**\nThe solution handles all edge cases properly:\n- **Single stone**: Returns the stone's weight (e.g., [5] \u2192 5)\n- **All stones same weight**: Returns 0 if even count, stone weight if odd count (e.g., [2,2] \u2192 0; [2,2,2] \u2192 2)\n- **Empty array**: Returns 0 (handled by initial dp[0] = True and the return logic)\n\n### 3. **Complexity**\n- **Time Complexity**: O(n \u00d7 target) where n is number of stones and target is total//2\n- **Space Complexity**: O(target)\nThis is optimal given the constraints (n \u2264 30, sum \u2264 3000)\n\n### 4. **Code Quality**\nThe code is clean, readable, and follows Python best practices:\n- Uses meaningful variable names\n- Proper indentation and spacing\n- Efficient DP implementation with backward iteration\n- Clear logic flow\n\n### 5. **Test Cases**\nThe provided examples work correctly:\n- **Example 1**: stones = [2,7,4,1,8,1] \u2192 total=23, target=11\n  DP finds maximum achievable sum \u226411 is 11 (2+4+1+1+? Actually, let's verify: optimal partition is 11 vs 12)\n  Return: 23 - 2\u00d711 = 1 \u2713\n\n- **Example 2**: stones = [31,26,33,21,40] \u2192 total=151, target=75\n  Optimal partition: 73 vs 78 (31+21+21? Actually 31+26+21=78 vs 33+40=73)\n  Return: 151 - 2\u00d773 = 5 \u2713\n\n### 6. **Potential Issues**\nNo issues found. The solution is optimal and correct.\n\n### Final Code\n```python\nfrom typing import List\nclass Solution:\n    def lastStoneWeightII(self, stones: List[int]) -> int:\n        total = sum(stones)\n        target = total // 2\n        dp = [False] * (target + 1)\n        dp[0] = True\n        \n        for stone in stones:\n            for j in range(target, stone - 1, -1):\n                if dp[j - stone]:\n                    dp[j] = True\n        \n        for i in range(target, -1, -1):\n            if dp[i]:\n                return total - 2 * i\n        return 0\n```\n\n",
      "TypedCode": "\nfrom typing import List\n\nclass Solution:\n    def lastStoneWeightII(self, stones: List[int]) -> int:\n        total = sum(stones)\n        target = total // 2\n        dp = [False] * (target + 1)\n        dp[0] = True\n        \n        for stone in stones:\n            for j in range(target, stone - 1, -1):\n                if dp[j - stone]:\n                    dp[j] = True\n        \n        for i in range(target, -1, -1):\n            if dp[i]:\n                return total - 2 * i\n        return 0\n",
      "Model": "deepseek/deepseek-chat-v3.1",
      "Latency": 29797643375,
      "SolvedAt": "2025-11-21T00:00:23.956674+01:00",
      "PromptTokens": 4406,
      "OutputTokens": 1282
    }
  },
  "Submissions": {
    "deepseek/deepseek-chat-v3.1": {
      "SubmitRequest": {
        "lang": "python3",
        "question_id": "1130",
        "typed_code": "\nfrom typing import List\n\nclass Solution:\n    def lastStoneWeightII(self, stones: List[int]) -> int:\n        total = sum(stones)\n        target = total // 2\n        dp = [False] * (target + 1)\n        dp[0] = True\n        \n        for stone in stones:\n            for j in range(target, stone - 1, -1):\n                if dp[j - stone]:\n                    dp[j] = True\n        \n        for i in range(target, -1, -1):\n            if dp[i]:\n                return total - 2 * i\n        return 0\n"
      },
      "SubmissionId": 0,
      "CheckResponse": {
        "status_code": 10,
        "status_msg": "Accepted",
        "Finished": true,
        "State": "SUCCESS"
      },
      "SubmittedAt": "2025-11-21T02:16:59+01:00"
    }
  }
}