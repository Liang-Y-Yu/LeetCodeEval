{
  "Question": {
    "Data": {
      "Question": {
        "questionFrontendId": "735",
        "questionId": "735",
        "Content": "<p>We are given an array <code>asteroids</code> of integers representing asteroids in a row. The indices of the asteroid in the array represent their relative position in space.</p>\n\n<p>For each asteroid, the absolute value represents its size, and the sign represents its direction (positive meaning right, negative meaning left). Each asteroid moves at the same speed.</p>\n\n<p>Find out the state of the asteroids after all collisions. If two asteroids meet, the smaller one will explode. If both are the same size, both will explode. Two asteroids moving in the same direction will never meet.</p>\n\n<p>&nbsp;</p>\n<p><strong class=\"example\">Example 1:</strong></p>\n\n<pre>\n<strong>Input:</strong> asteroids = [5,10,-5]\n<strong>Output:</strong> [5,10]\n<strong>Explanation:</strong> The 10 and -5 collide resulting in 10. The 5 and 10 never collide.\n</pre>\n\n<p><strong class=\"example\">Example 2:</strong></p>\n\n<pre>\n<strong>Input:</strong> asteroids = [8,-8]\n<strong>Output:</strong> []\n<strong>Explanation:</strong> The 8 and -8 collide exploding each other.\n</pre>\n\n<p><strong class=\"example\">Example 3:</strong></p>\n\n<pre>\n<strong>Input:</strong> asteroids = [10,2,-5]\n<strong>Output:</strong> [10]\n<strong>Explanation:</strong> The 2 and -5 collide resulting in -5. The 10 and -5 collide resulting in 10.\n</pre>\n\n<p><strong class=\"example\">Example 4:</strong></p>\n\n<pre>\n<strong>Input:</strong> asteroids = [3,5,-6,2,-1,4]\u200b\u200b\u200b\u200b\u200b\u200b\u200b\n<strong>Output:</strong> [-6,2,4]\n<strong>Explanation:</strong> The asteroid -6 makes the asteroid 3 and 5 explode, and then continues going left. On the other side, the asteroid 2 makes the asteroid -1 explode and then continues going right, without reaching asteroid 4.\n</pre>\n\n<p>&nbsp;</p>\n<p><strong>Constraints:</strong></p>\n\n<ul>\n\t<li><code>2 &lt;= asteroids.length &lt;= 10<sup>4</sup></code></li>\n\t<li><code>-1000 &lt;= asteroids[i] &lt;= 1000</code></li>\n\t<li><code>asteroids[i] != 0</code></li>\n</ul>\n",
        "SampleTestCase": "[5,10,-5]",
        "ExampleTestcases": "[5,10,-5]\n[8,-8]\n[10,2,-5]\n[3,5,-6,2,-1,4]",
        "Difficulty": "Medium",
        "Title": "Asteroid Collision",
        "TitleSlug": "asteroid-collision",
        "IsPaidOnly": false,
        "Stats": "{\"totalAccepted\": \"911.5K\", \"totalSubmission\": \"2M\", \"totalAcceptedRaw\": 911454, \"totalSubmissionRaw\": 1966607, \"acRate\": \"46.3%\"}",
        "Likes": 9056,
        "Dislikes": 1285,
        "FreqBar": 0,
        "CategoryTitle": "Algorithms",
        "TopicTags": [
          {
            "Id": "VG9waWNUYWdOb2RlOjU=",
            "Name": "Array",
            "Slug": "array"
          },
          {
            "Id": "VG9waWNUYWdOb2RlOjE1",
            "Name": "Stack",
            "Slug": "stack"
          },
          {
            "Id": "VG9waWNUYWdOb2RlOjYxMDU1",
            "Name": "Simulation",
            "Slug": "simulation"
          }
        ],
        "CodeSnippets": [
          {
            "Lang": "C++",
            "LangSlug": "cpp",
            "Code": "class Solution {\npublic:\n    vector<int> asteroidCollision(vector<int>& asteroids) {\n        \n    }\n};"
          },
          {
            "Lang": "Java",
            "LangSlug": "java",
            "Code": "class Solution {\n    public int[] asteroidCollision(int[] asteroids) {\n        \n    }\n}"
          },
          {
            "Lang": "Python3",
            "LangSlug": "python3",
            "Code": "class Solution:\n    def asteroidCollision(self, asteroids: List[int]) -> List[int]:\n        "
          },
          {
            "Lang": "Python",
            "LangSlug": "python",
            "Code": "class Solution(object):\n    def asteroidCollision(self, asteroids):\n        \"\"\"\n        :type asteroids: List[int]\n        :rtype: List[int]\n        \"\"\"\n        "
          },
          {
            "Lang": "JavaScript",
            "LangSlug": "javascript",
            "Code": "/**\n * @param {number[]} asteroids\n * @return {number[]}\n */\nvar asteroidCollision = function(asteroids) {\n    \n};"
          },
          {
            "Lang": "TypeScript",
            "LangSlug": "typescript",
            "Code": "function asteroidCollision(asteroids: number[]): number[] {\n    \n};"
          },
          {
            "Lang": "C#",
            "LangSlug": "csharp",
            "Code": "public class Solution {\n    public int[] AsteroidCollision(int[] asteroids) {\n        \n    }\n}"
          },
          {
            "Lang": "C",
            "LangSlug": "c",
            "Code": "/**\n * Note: The returned array must be malloced, assume caller calls free().\n */\nint* asteroidCollision(int* asteroids, int asteroidsSize, int* returnSize) {\n    \n}"
          },
          {
            "Lang": "Go",
            "LangSlug": "golang",
            "Code": "func asteroidCollision(asteroids []int) []int {\n    \n}"
          },
          {
            "Lang": "Kotlin",
            "LangSlug": "kotlin",
            "Code": "class Solution {\n    fun asteroidCollision(asteroids: IntArray): IntArray {\n        \n    }\n}"
          },
          {
            "Lang": "Swift",
            "LangSlug": "swift",
            "Code": "class Solution {\n    func asteroidCollision(_ asteroids: [Int]) -> [Int] {\n        \n    }\n}"
          },
          {
            "Lang": "Rust",
            "LangSlug": "rust",
            "Code": "impl Solution {\n    pub fn asteroid_collision(asteroids: Vec<i32>) -> Vec<i32> {\n        \n    }\n}"
          },
          {
            "Lang": "Ruby",
            "LangSlug": "ruby",
            "Code": "# @param {Integer[]} asteroids\n# @return {Integer[]}\ndef asteroid_collision(asteroids)\n    \nend"
          },
          {
            "Lang": "PHP",
            "LangSlug": "php",
            "Code": "class Solution {\n\n    /**\n     * @param Integer[] $asteroids\n     * @return Integer[]\n     */\n    function asteroidCollision($asteroids) {\n        \n    }\n}"
          },
          {
            "Lang": "Dart",
            "LangSlug": "dart",
            "Code": "class Solution {\n  List<int> asteroidCollision(List<int> asteroids) {\n    \n  }\n}"
          },
          {
            "Lang": "Scala",
            "LangSlug": "scala",
            "Code": "object Solution {\n    def asteroidCollision(asteroids: Array[Int]): Array[Int] = {\n        \n    }\n}"
          },
          {
            "Lang": "Elixir",
            "LangSlug": "elixir",
            "Code": "defmodule Solution do\n  @spec asteroid_collision(asteroids :: [integer]) :: [integer]\n  def asteroid_collision(asteroids) do\n    \n  end\nend"
          },
          {
            "Lang": "Erlang",
            "LangSlug": "erlang",
            "Code": "-spec asteroid_collision(Asteroids :: [integer()]) -> [integer()].\nasteroid_collision(Asteroids) ->\n  ."
          },
          {
            "Lang": "Racket",
            "LangSlug": "racket",
            "Code": "(define/contract (asteroid-collision asteroids)\n  (-> (listof exact-integer?) (listof exact-integer?))\n  )"
          }
        ],
        "CompanyTagStats": ""
      }
    },
    "DownloadedAt": "2025-11-17T15:04:02.281155+01:00",
    "AcRate": "46.3",
    "TotalSubmissions": 1966607,
    "TotalAccepted": 911454,
    "AcceptanceRate": 0.46346524750496665,
    "ContentFeatures": "",
    "CodeSnippetFeatures": {
      "c": "",
      "cpp": "",
      "csharp": "",
      "dart": "",
      "elixir": "",
      "erlang": "",
      "golang": "",
      "java": "",
      "javascript": "",
      "kotlin": "",
      "php": "",
      "python": "",
      "python3": "",
      "racket": "",
      "ruby": "",
      "rust": "",
      "scala": "",
      "swift": "",
      "typescript": ""
    },
    "Url": "https://leetcode.com/problems/asteroid-collision/"
  },
  "Solutions": {
    "deepseek/deepseek-chat-v3.1": {
      "Lang": "python3",
      "Prompt": "Multi-agent approach:\n1. Analysis\n2. Design\n3. Implementation\n4. Verification",
      "Answer": "=== ANALYSIS ===\nProblem Analysis:\n\nThe problem involves simulating collisions between asteroids moving in opposite directions. The key insight is that collisions occur only when a right-moving asteroid (positive) is followed by a left-moving asteroid (negative). We can use a stack to efficiently simulate these collisions.\n\n1. **Problem Type Classification**: Stack Simulation.\n2. **Key Patterns & Algorithms**: Stack is ideal because we need to compare each new asteroid with the previous ones (which might collide with it). The stack helps in handling nested collisions.\n3. **Constraints Analysis**: The constraints (up to 10,000 asteroids) require an O(n) solution. The stack approach processes each asteroid once, making it efficient.\n4. **Edge Cases**: \n   - No collisions (all same direction).\n   - All asteroids explode.\n   - Multiple consecutive collisions.\n5. **Input/Output Analysis**: The input is a list of integers. The output is a list of integers after all collisions.\n6. **Difficulty Assessment**: The challenge is correctly simulating the collisions without missing any chain reactions. The stack naturally handles this.\n\nSolution Code:\n\n```python\nclass Solution:\n    def asteroidCollision(self, asteroids: List[int]) -> List[int]:\n        stack = []\n        for a in asteroids:\n            while stack and stack[-1] > 0 and a < 0:\n                if abs(stack[-1]) < abs(a):\n                    stack.pop()\n                elif abs(stack[-1]) == abs(a):\n                    stack.pop()\n                    break\n                else:\n                    break\n            else:\n                stack.append(a)\n        return stack\n```\n\n=== DESIGN ===\n\n```python\nclass Solution:\n    def asteroidCollision(self, asteroids: List[int]) -> List[int]:\n        stack = []\n        for a in asteroids:\n            while stack and stack[-1] > 0 and a < 0:\n                if abs(stack[-1]) < abs(a):\n                    stack.pop()\n                elif abs(stack[-1]) == abs(a):\n                    stack.pop()\n                    break\n                else:\n                    break\n            else:\n                stack.append(a)\n        return stack\n```\n\n=== IMPLEMENTATION ===\n```python\nclass Solution:\n    def asteroidCollision(self, asteroids: List[int]) -> List[int]:\n        stack = []\n        for a in asteroids:\n            while stack and stack[-1] > 0 and a < 0:\n                if abs(stack[-1]) < abs(a):\n                    stack.pop()\n                elif abs(stack[-1]) == abs(a):\n                    stack.pop()\n                    break\n                else:\n                    break\n            else:\n                stack.append(a)\n        return stack\n```\n\n=== VERIFICATION ===\nI need to verify the provided solution for the asteroid collision problem. Let me analyze the code step by step.\n\n**Code Analysis:**\nThe code uses a stack to simulate asteroid collisions. It iterates through each asteroid and handles collisions by comparing with the top of the stack when a right-moving asteroid (positive) is followed by a left-moving one (negative).\n\n**Verification:**\n1. **Correctness**: The algorithm correctly implements the stack-based approach. It checks for collisions only when the top of the stack is positive and the current asteroid is negative. It handles the three cases: \n   - Current asteroid is larger: pop the stack and continue checking (the current asteroid might collide with more).\n   - Both are equal: pop the stack and break (both explode).\n   - Current asteroid is smaller: break (current asteroid explodes).\n\n2. **Edge Cases**:\n   - All same direction: No collisions occur. The stack simply appends all asteroids.\n   - All explode: Example [8,-8] is handled correctly (both are popped, resulting in empty list).\n   - Multiple collisions: Example [10,2,-5] is handled correctly. \n        Step-by-step: \n          Start: stack = []\n          Process 10: stack = [10]\n          Process 2: stack = [10,2] (no collision since both positive)\n          Process -5: \n            Compare with 2 (positive) -> collision since -5 is negative.\n            abs(2) < abs(-5) -> pop stack -> stack becomes [10]\n            Now compare -5 with 10 (positive): \n                abs(10) > abs(-5) -> break (so -5 is destroyed)\n            So stack remains [10] -> correct.\n\n3. **Complexity**: \n   - Time: O(n) - Each asteroid is pushed and popped at most once.\n   - Space: O(n) - Stack space in worst case (no collisions).\n\n4. **Code Quality**: \n   - Clean and readable.\n   - Uses a while-else construct appropriately.\n   - Efficient and follows best practices.\n\n5. **Test Cases**:\n   - Example 1: [5,10,-5] -> [5,10] (correct).\n   - Example 2: [8,-8] -> [] (correct).\n   - Example 3: [10,2,-5] -> [10] (correct).\n   - Example 4: [3,5,-6,2,-1,4] -> [-6,2,4] (let's verify):\n        Process 3: stack = [3]\n        Process 5: stack = [3,5]\n        Process -6: \n            Compare with 5: abs(5) < abs(6) -> pop -> stack=[3]\n            Compare with 3: abs(3) < abs(6) -> pop -> stack=[]\n            Append -6? Wait, the code does: after the while loop, it does an \"else: append\". But note: the while loop condition breaks when stack is empty. So after popping 3, the stack becomes empty and the while loop exits. Then the else clause appends -6. So stack = [-6].\n        Process 2: stack = [-6,2] (no collision since -6 is negative and 2 is positive? Actually, no: collisions only happen when top is positive and current is negative. Here top is negative, so no while loop -> append 2).\n        Process -1: \n            Compare with 2 (positive) and -1 is negative -> collision.\n            abs(2) > abs(-1) -> break (so -1 is destroyed). So stack remains [-6,2].\n        Process 4: stack = [-6,2,4] (no collision since top is positive and 4 is positive? Actually, 2 is positive and 4 is positive -> no collision). So output is [-6,2,4] -> correct.\n\n6. **Potential Issues**: None found. The code handles all cases correctly.\n\n**Conclusion**: The solution is correct and efficient. It passes all test cases and handles edge cases appropriately. The code is clean and follows best practices.\n\nTherefore, the code is valid and does not require any changes.\n\n```python\nclass Solution:\n    def asteroidCollision(self, asteroids: List[int]) -> List[int]:\n        stack = []\n        for a in asteroids:\n            while stack and stack[-1] > 0 and a < 0:\n                if abs(stack[-1]) < abs(a):\n                    stack.pop()\n                elif abs(stack[-1]) == abs(a):\n                    stack.pop()\n                    break\n                else:\n                    break\n            else:\n                stack.append(a)\n        return stack\n```\n\n",
      "TypedCode": "\nclass Solution:\n    def asteroidCollision(self, asteroids: List[int]) -> List[int]:\n        stack = []\n        for a in asteroids:\n            while stack and stack[-1] > 0 and a < 0:\n                if abs(stack[-1]) < abs(a):\n                    stack.pop()\n                elif abs(stack[-1]) == abs(a):\n                    stack.pop()\n                    break\n                else:\n                    break\n            else:\n                stack.append(a)\n        return stack\n",
      "Model": "deepseek/deepseek-chat-v3.1",
      "Latency": 32124362834,
      "SolvedAt": "2025-11-20T23:32:35.308581+01:00",
      "PromptTokens": 4136,
      "OutputTokens": 1523
    }
  },
  "Submissions": {
    "deepseek/deepseek-chat-v3.1": {
      "SubmitRequest": {
        "lang": "python3",
        "question_id": "735",
        "typed_code": "\nclass Solution:\n    def asteroidCollision(self, asteroids: List[int]) -> List[int]:\n        stack = []\n        for a in asteroids:\n            while stack and stack[-1] > 0 and a < 0:\n                if abs(stack[-1]) < abs(a):\n                    stack.pop()\n                elif abs(stack[-1]) == abs(a):\n                    stack.pop()\n                    break\n                else:\n                    break\n            else:\n                stack.append(a)\n        return stack\n"
      },
      "SubmissionId": 0,
      "CheckResponse": {
        "status_code": 10,
        "status_msg": "Accepted",
        "Finished": true,
        "State": "SUCCESS"
      },
      "SubmittedAt": "2025-11-21T01:00:04+01:00"
    }
  }
}