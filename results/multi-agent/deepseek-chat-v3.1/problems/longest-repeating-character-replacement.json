{
  "Question": {
    "Data": {
      "Question": {
        "questionFrontendId": "424",
        "questionId": "424",
        "Content": "<p>You are given a string <code>s</code> and an integer <code>k</code>. You can choose any character of the string and change it to any other uppercase English character. You can perform this operation at most <code>k</code> times.</p>\n\n<p>Return <em>the length of the longest substring containing the same letter you can get after performing the above operations</em>.</p>\n\n<p>&nbsp;</p>\n<p><strong class=\"example\">Example 1:</strong></p>\n\n<pre>\n<strong>Input:</strong> s = &quot;ABAB&quot;, k = 2\n<strong>Output:</strong> 4\n<strong>Explanation:</strong> Replace the two &#39;A&#39;s with two &#39;B&#39;s or vice versa.\n</pre>\n\n<p><strong class=\"example\">Example 2:</strong></p>\n\n<pre>\n<strong>Input:</strong> s = &quot;AABABBA&quot;, k = 1\n<strong>Output:</strong> 4\n<strong>Explanation:</strong> Replace the one &#39;A&#39; in the middle with &#39;B&#39; and form &quot;AABBBBA&quot;.\nThe substring &quot;BBBB&quot; has the longest repeating letters, which is 4.\nThere may exists other ways to achieve this answer too.</pre>\n\n<p>&nbsp;</p>\n<p><strong>Constraints:</strong></p>\n\n<ul>\n\t<li><code>1 &lt;= s.length &lt;= 10<sup>5</sup></code></li>\n\t<li><code>s</code> consists of only uppercase English letters.</li>\n\t<li><code>0 &lt;= k &lt;= s.length</code></li>\n</ul>\n",
        "SampleTestCase": "\"ABAB\"\n2",
        "ExampleTestcases": "\"ABAB\"\n2\n\"AABABBA\"\n1",
        "Difficulty": "Medium",
        "Title": "Longest Repeating Character Replacement",
        "TitleSlug": "longest-repeating-character-replacement",
        "IsPaidOnly": false,
        "Stats": "{\"totalAccepted\": \"1.3M\", \"totalSubmission\": \"2.3M\", \"totalAcceptedRaw\": 1330577, \"totalSubmissionRaw\": 2279045, \"acRate\": \"58.4%\"}",
        "Likes": 12451,
        "Dislikes": 713,
        "FreqBar": 0,
        "CategoryTitle": "Algorithms",
        "TopicTags": [
          {
            "Id": "VG9waWNUYWdOb2RlOjY=",
            "Name": "Hash Table",
            "Slug": "hash-table"
          },
          {
            "Id": "VG9waWNUYWdOb2RlOjEw",
            "Name": "String",
            "Slug": "string"
          },
          {
            "Id": "VG9waWNUYWdOb2RlOjU1ODIx",
            "Name": "Sliding Window",
            "Slug": "sliding-window"
          }
        ],
        "CodeSnippets": [
          {
            "Lang": "C++",
            "LangSlug": "cpp",
            "Code": "class Solution {\npublic:\n    int characterReplacement(string s, int k) {\n        \n    }\n};"
          },
          {
            "Lang": "Java",
            "LangSlug": "java",
            "Code": "class Solution {\n    public int characterReplacement(String s, int k) {\n        \n    }\n}"
          },
          {
            "Lang": "Python3",
            "LangSlug": "python3",
            "Code": "class Solution:\n    def characterReplacement(self, s: str, k: int) -> int:\n        "
          },
          {
            "Lang": "Python",
            "LangSlug": "python",
            "Code": "class Solution(object):\n    def characterReplacement(self, s, k):\n        \"\"\"\n        :type s: str\n        :type k: int\n        :rtype: int\n        \"\"\"\n        "
          },
          {
            "Lang": "JavaScript",
            "LangSlug": "javascript",
            "Code": "/**\n * @param {string} s\n * @param {number} k\n * @return {number}\n */\nvar characterReplacement = function(s, k) {\n    \n};"
          },
          {
            "Lang": "TypeScript",
            "LangSlug": "typescript",
            "Code": "function characterReplacement(s: string, k: number): number {\n    \n};"
          },
          {
            "Lang": "C#",
            "LangSlug": "csharp",
            "Code": "public class Solution {\n    public int CharacterReplacement(string s, int k) {\n        \n    }\n}"
          },
          {
            "Lang": "C",
            "LangSlug": "c",
            "Code": "int characterReplacement(char* s, int k) {\n    \n}"
          },
          {
            "Lang": "Go",
            "LangSlug": "golang",
            "Code": "func characterReplacement(s string, k int) int {\n    \n}"
          },
          {
            "Lang": "Kotlin",
            "LangSlug": "kotlin",
            "Code": "class Solution {\n    fun characterReplacement(s: String, k: Int): Int {\n        \n    }\n}"
          },
          {
            "Lang": "Swift",
            "LangSlug": "swift",
            "Code": "class Solution {\n    func characterReplacement(_ s: String, _ k: Int) -> Int {\n        \n    }\n}"
          },
          {
            "Lang": "Rust",
            "LangSlug": "rust",
            "Code": "impl Solution {\n    pub fn character_replacement(s: String, k: i32) -> i32 {\n        \n    }\n}"
          },
          {
            "Lang": "Ruby",
            "LangSlug": "ruby",
            "Code": "# @param {String} s\n# @param {Integer} k\n# @return {Integer}\ndef character_replacement(s, k)\n    \nend"
          },
          {
            "Lang": "PHP",
            "LangSlug": "php",
            "Code": "class Solution {\n\n    /**\n     * @param String $s\n     * @param Integer $k\n     * @return Integer\n     */\n    function characterReplacement($s, $k) {\n        \n    }\n}"
          },
          {
            "Lang": "Dart",
            "LangSlug": "dart",
            "Code": "class Solution {\n  int characterReplacement(String s, int k) {\n    \n  }\n}"
          },
          {
            "Lang": "Scala",
            "LangSlug": "scala",
            "Code": "object Solution {\n    def characterReplacement(s: String, k: Int): Int = {\n        \n    }\n}"
          },
          {
            "Lang": "Elixir",
            "LangSlug": "elixir",
            "Code": "defmodule Solution do\n  @spec character_replacement(s :: String.t, k :: integer) :: integer\n  def character_replacement(s, k) do\n    \n  end\nend"
          },
          {
            "Lang": "Erlang",
            "LangSlug": "erlang",
            "Code": "-spec character_replacement(S :: unicode:unicode_binary(), K :: integer()) -> integer().\ncharacter_replacement(S, K) ->\n  ."
          },
          {
            "Lang": "Racket",
            "LangSlug": "racket",
            "Code": "(define/contract (character-replacement s k)\n  (-> string? exact-integer? exact-integer?)\n  )"
          }
        ],
        "CompanyTagStats": ""
      }
    },
    "DownloadedAt": "2025-11-17T15:17:47.343352+01:00",
    "AcRate": "58.4",
    "TotalSubmissions": 2279045,
    "TotalAccepted": 1330577,
    "AcceptanceRate": 0.583830946734268,
    "ContentFeatures": "",
    "CodeSnippetFeatures": {
      "c": "",
      "cpp": "",
      "csharp": "",
      "dart": "",
      "elixir": "",
      "erlang": "",
      "golang": "",
      "java": "",
      "javascript": "",
      "kotlin": "",
      "php": "",
      "python": "",
      "python3": "",
      "racket": "",
      "ruby": "",
      "rust": "",
      "scala": "",
      "swift": "",
      "typescript": ""
    },
    "Url": "https://leetcode.com/problems/longest-repeating-character-replacement/"
  },
  "Solutions": {
    "deepseek/deepseek-chat-v3.1": {
      "Lang": "python3",
      "Prompt": "Multi-agent approach:\n1. Analysis\n2. Design\n3. Implementation\n4. Verification",
      "Answer": "=== ANALYSIS ===\n**Problem Analysis:**\n\n1. **Problem Type Classification**: This problem belongs to the \"String\" and \"Sliding Window\" categories. It involves finding the longest substring where, with at most k replacements, all characters can be made the same.\n\n2. **Key Patterns & Algorithms**: The most relevant technique is the **Sliding Window** approach with two pointers (left and right) to traverse the string. The core idea is to maintain a window [left, right] such that the number of replacements needed (which is the window size minus the frequency of the most common character in the window) is at most k. This is efficient because we only need to know the maximum frequency in the current window to determine if the window is valid.\n\n3. **Constraints Analysis**: The string length can be up to 10^5, requiring an O(n) or O(n log n) solution. The sliding window approach with a frequency array and two pointers runs in O(n) time and O(1) space (since the alphabet is fixed to 26 uppercase letters).\n\n4. **Edge Cases**:\n   - k = 0: No replacements allowed, so we need the longest substring of consecutive identical characters.\n   - k >= len(s): We can replace all characters to form a string of one repeated character, so the answer is len(s).\n   - String with all same characters: Then no replacement is needed, so output is len(s).\n   - String with all different characters and k=0: Then the answer is 1.\n\n5. **Input/Output Analysis**: The input is a string `s` and an integer `k`. The output is an integer representing the length of the longest substring that can be made with all same characters with at most k replacements.\n\n6. **Difficulty Assessment**: The problem is medium difficulty. The challenge lies in realizing the sliding window technique and efficiently tracking the maximum frequency in the current window without recalculating it every time (which would lead to O(n^2)). Instead, we can use a frequency array and update the max frequency as we expand the window. However, note that the max frequency might become outdated when we shrink the window. But actually, we don't need to shrink the window unnecessarily - we can only expand the window and move the left pointer when the replacements needed exceed k. Also, even if the max frequency is outdated, it doesn't affect the result because we are only interested in the maximum window size we've seen so far.\n\n**Solution Code:**\n\n```python\nclass Solution:\n    def characterReplacement(self, s: str, k: int) -> int:\n        freq = [0] * 26\n        left = 0\n        max_count = 0\n        max_len = 0\n        for right in range(len(s)):\n            idx = ord(s[right]) - ord('A')\n            freq[idx] += 1\n            max_count = max(max_count, freq[idx])\n            while (right - left + 1 - max_count) > k:\n                idx_left = ord(s[left]) - ord('A')\n                freq[idx_left] -= 1\n                left += 1\n            max_len = max(max_len, right - left + 1)\n        return max_len\n```\n\n**Explanation:**\n- We maintain a frequency array for 26 uppercase letters.\n- We use two pointers `left` and `right` to define the current window.\n- For each `right`, we update the frequency of the current character and update `max_count` (the highest frequency of any character in the current window).\n- If the number of replacements needed (window size - max_count) exceeds `k`, we shrink the window from the left.\n- The maximum window size encountered during the process is the answer.\n\nThis solution efficiently checks all possible valid windows in O(n) time with O(1) space.\n\n=== DESIGN ===\n```python\nclass Solution:\n    def characterReplacement(self, s: str, k: int) -> int:\n        freq = [0] * 26\n        left = 0\n        max_count = 0\n        max_len = 0\n        \n        for right in range(len(s)):\n            idx = ord(s[right]) - ord('A')\n            freq[idx] += 1\n            max_count = max(max_count, freq[idx])\n            \n            if (right - left + 1 - max_count) > k:\n                idx_left = ord(s[left]) - ord('A')\n                freq[idx_left] -= 1\n                left += 1\n            \n            max_len = max(max_len, right - left + 1)\n        \n        return max_len\n```\n\n=== IMPLEMENTATION ===\n```python\nclass Solution:\n    def characterReplacement(self, s: str, k: int) -> int:\n        freq = [0] * 26\n        left = 0\n        max_count = 0\n        max_len = 0\n        \n        for right in range(len(s)):\n            idx = ord(s[right]) - ord('A')\n            freq[idx] += 1\n            max_count = max(max_count, freq[idx])\n            \n            if (right - left + 1 - max_count) > k:\n                idx_left = ord(s[left]) - ord('A')\n                freq[idx_left] -= 1\n                left += 1\n            \n            max_len = max(max_len, right - left + 1)\n        \n        return max_len\n```\n\n=== VERIFICATION ===\n```python\nclass Solution:\n    def characterReplacement(self, s: str, k: int) -> int:\n        freq = [0] * 26\n        left = 0\n        max_count = 0\n        max_len = 0\n        \n        for right in range(len(s)):\n            idx = ord(s[right]) - ord('A')\n            freq[idx] += 1\n            max_count = max(max_count, freq[idx])\n            \n            if (right - left + 1 - max_count) > k:\n                idx_left = ord(s[left]) - ord('A')\n                freq[idx_left] -= 1\n                left += 1\n            \n            max_len = max(max_len, right - left + 1)\n        \n        return max_len\n```\n\n",
      "TypedCode": "\nclass Solution:\n    def characterReplacement(self, s: str, k: int) -> int:\n        freq = [0] * 26\n        left = 0\n        max_count = 0\n        max_len = 0\n        \n        for right in range(len(s)):\n            idx = ord(s[right]) - ord('A')\n            freq[idx] += 1\n            max_count = max(max_count, freq[idx])\n            \n            if (right - left + 1 - max_count) > k:\n                idx_left = ord(s[left]) - ord('A')\n                freq[idx_left] -= 1\n                left += 1\n            \n            max_len = max(max_len, right - left + 1)\n        \n        return max_len\n",
      "Model": "deepseek/deepseek-chat-v3.1",
      "Latency": 37371984667,
      "SolvedAt": "2025-11-21T00:01:45.157514+01:00",
      "PromptTokens": 5152,
      "OutputTokens": 1276
    }
  },
  "Submissions": {
    "deepseek/deepseek-chat-v3.1": {
      "SubmitRequest": {
        "lang": "python3",
        "question_id": "424",
        "typed_code": "\nclass Solution:\n    def characterReplacement(self, s: str, k: int) -> int:\n        freq = [0] * 26\n        left = 0\n        max_count = 0\n        max_len = 0\n        \n        for right in range(len(s)):\n            idx = ord(s[right]) - ord('A')\n            freq[idx] += 1\n            max_count = max(max_count, freq[idx])\n            \n            if (right - left + 1 - max_count) > k:\n                idx_left = ord(s[left]) - ord('A')\n                freq[idx_left] -= 1\n                left += 1\n            \n            max_len = max(max_len, right - left + 1)\n        \n        return max_len\n"
      },
      "SubmissionId": 0,
      "CheckResponse": {
        "status_code": 10,
        "status_msg": "Accepted",
        "Finished": true,
        "State": "SUCCESS"
      },
      "SubmittedAt": "2025-11-21T00:56:45+01:00"
    }
  }
}