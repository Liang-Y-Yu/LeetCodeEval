{
  "Question": {
    "Data": {
      "Question": {
        "questionFrontendId": "2542",
        "questionId": "2636",
        "Content": "<p>You are given two <strong>0-indexed</strong> integer arrays <code>nums1</code> and <code>nums2</code> of equal length <code>n</code> and a positive integer <code>k</code>. You must choose a <strong>subsequence</strong> of indices from <code>nums1</code> of length <code>k</code>.</p>\n\n<p>For chosen indices <code>i<sub>0</sub></code>, <code>i<sub>1</sub></code>, ..., <code>i<sub>k - 1</sub></code>, your <strong>score</strong> is defined as:</p>\n\n<ul>\n\t<li>The sum of the selected elements from <code>nums1</code> multiplied with the <strong>minimum</strong> of the selected elements from <code>nums2</code>.</li>\n\t<li>It can defined simply as: <code>(nums1[i<sub>0</sub>] + nums1[i<sub>1</sub>] +...+ nums1[i<sub>k - 1</sub>]) * min(nums2[i<sub>0</sub>] , nums2[i<sub>1</sub>], ... ,nums2[i<sub>k - 1</sub>])</code>.</li>\n</ul>\n\n<p>Return <em>the <strong>maximum</strong> possible score.</em></p>\n\n<p>A <strong>subsequence</strong> of indices of an array is a set that can be derived from the set <code>{0, 1, ..., n-1}</code> by deleting some or no elements.</p>\n\n<p>&nbsp;</p>\n<p><strong class=\"example\">Example 1:</strong></p>\n\n<pre>\n<strong>Input:</strong> nums1 = [1,3,3,2], nums2 = [2,1,3,4], k = 3\n<strong>Output:</strong> 12\n<strong>Explanation:</strong> \nThe four possible subsequence scores are:\n- We choose the indices 0, 1, and 2 with score = (1+3+3) * min(2,1,3) = 7.\n- We choose the indices 0, 1, and 3 with score = (1+3+2) * min(2,1,4) = 6. \n- We choose the indices 0, 2, and 3 with score = (1+3+2) * min(2,3,4) = 12. \n- We choose the indices 1, 2, and 3 with score = (3+3+2) * min(1,3,4) = 8.\nTherefore, we return the max score, which is 12.\n</pre>\n\n<p><strong class=\"example\">Example 2:</strong></p>\n\n<pre>\n<strong>Input:</strong> nums1 = [4,2,3,1,1], nums2 = [7,5,10,9,6], k = 1\n<strong>Output:</strong> 30\n<strong>Explanation:</strong> \nChoosing index 2 is optimal: nums1[2] * nums2[2] = 3 * 10 = 30 is the maximum possible score.\n</pre>\n\n<p>&nbsp;</p>\n<p><strong>Constraints:</strong></p>\n\n<ul>\n\t<li><code>n == nums1.length == nums2.length</code></li>\n\t<li><code>1 &lt;= n &lt;= 10<sup>5</sup></code></li>\n\t<li><code>0 &lt;= nums1[i], nums2[j] &lt;= 10<sup>5</sup></code></li>\n\t<li><code>1 &lt;= k &lt;= n</code></li>\n</ul>\n",
        "SampleTestCase": "[1,3,3,2]\n[2,1,3,4]\n3",
        "ExampleTestcases": "[1,3,3,2]\n[2,1,3,4]\n3\n[4,2,3,1,1]\n[7,5,10,9,6]\n1",
        "Difficulty": "Medium",
        "Title": "Maximum Subsequence Score",
        "TitleSlug": "maximum-subsequence-score",
        "IsPaidOnly": false,
        "Stats": "{\"totalAccepted\": \"142.4K\", \"totalSubmission\": \"261.8K\", \"totalAcceptedRaw\": 142427, \"totalSubmissionRaw\": 261751, \"acRate\": \"54.4%\"}",
        "Likes": 3098,
        "Dislikes": 208,
        "FreqBar": 0,
        "CategoryTitle": "Algorithms",
        "TopicTags": [
          {
            "Id": "VG9waWNUYWdOb2RlOjU=",
            "Name": "Array",
            "Slug": "array"
          },
          {
            "Id": "VG9waWNUYWdOb2RlOjE3",
            "Name": "Greedy",
            "Slug": "greedy"
          },
          {
            "Id": "VG9waWNUYWdOb2RlOjYxMDQ5",
            "Name": "Sorting",
            "Slug": "sorting"
          },
          {
            "Id": "VG9waWNUYWdOb2RlOjYxMDUw",
            "Name": "Heap (Priority Queue)",
            "Slug": "heap-priority-queue"
          }
        ],
        "CodeSnippets": [
          {
            "Lang": "C++",
            "LangSlug": "cpp",
            "Code": "class Solution {\npublic:\n    long long maxScore(vector<int>& nums1, vector<int>& nums2, int k) {\n        \n    }\n};"
          },
          {
            "Lang": "Java",
            "LangSlug": "java",
            "Code": "class Solution {\n    public long maxScore(int[] nums1, int[] nums2, int k) {\n        \n    }\n}"
          },
          {
            "Lang": "Python3",
            "LangSlug": "python3",
            "Code": "class Solution:\n    def maxScore(self, nums1: List[int], nums2: List[int], k: int) -> int:\n        "
          },
          {
            "Lang": "Python",
            "LangSlug": "python",
            "Code": "class Solution(object):\n    def maxScore(self, nums1, nums2, k):\n        \"\"\"\n        :type nums1: List[int]\n        :type nums2: List[int]\n        :type k: int\n        :rtype: int\n        \"\"\"\n        "
          },
          {
            "Lang": "JavaScript",
            "LangSlug": "javascript",
            "Code": "/**\n * @param {number[]} nums1\n * @param {number[]} nums2\n * @param {number} k\n * @return {number}\n */\nvar maxScore = function(nums1, nums2, k) {\n    \n};"
          },
          {
            "Lang": "TypeScript",
            "LangSlug": "typescript",
            "Code": "function maxScore(nums1: number[], nums2: number[], k: number): number {\n    \n};"
          },
          {
            "Lang": "C#",
            "LangSlug": "csharp",
            "Code": "public class Solution {\n    public long MaxScore(int[] nums1, int[] nums2, int k) {\n        \n    }\n}"
          },
          {
            "Lang": "C",
            "LangSlug": "c",
            "Code": "long long maxScore(int* nums1, int nums1Size, int* nums2, int nums2Size, int k) {\n    \n}"
          },
          {
            "Lang": "Go",
            "LangSlug": "golang",
            "Code": "func maxScore(nums1 []int, nums2 []int, k int) int64 {\n    \n}"
          },
          {
            "Lang": "Kotlin",
            "LangSlug": "kotlin",
            "Code": "class Solution {\n    fun maxScore(nums1: IntArray, nums2: IntArray, k: Int): Long {\n        \n    }\n}"
          },
          {
            "Lang": "Swift",
            "LangSlug": "swift",
            "Code": "class Solution {\n    func maxScore(_ nums1: [Int], _ nums2: [Int], _ k: Int) -> Int {\n        \n    }\n}"
          },
          {
            "Lang": "Rust",
            "LangSlug": "rust",
            "Code": "impl Solution {\n    pub fn max_score(nums1: Vec<i32>, nums2: Vec<i32>, k: i32) -> i64 {\n        \n    }\n}"
          },
          {
            "Lang": "Ruby",
            "LangSlug": "ruby",
            "Code": "# @param {Integer[]} nums1\n# @param {Integer[]} nums2\n# @param {Integer} k\n# @return {Integer}\ndef max_score(nums1, nums2, k)\n    \nend"
          },
          {
            "Lang": "PHP",
            "LangSlug": "php",
            "Code": "class Solution {\n\n    /**\n     * @param Integer[] $nums1\n     * @param Integer[] $nums2\n     * @param Integer $k\n     * @return Integer\n     */\n    function maxScore($nums1, $nums2, $k) {\n        \n    }\n}"
          },
          {
            "Lang": "Dart",
            "LangSlug": "dart",
            "Code": "class Solution {\n  int maxScore(List<int> nums1, List<int> nums2, int k) {\n    \n  }\n}"
          },
          {
            "Lang": "Scala",
            "LangSlug": "scala",
            "Code": "object Solution {\n    def maxScore(nums1: Array[Int], nums2: Array[Int], k: Int): Long = {\n        \n    }\n}"
          },
          {
            "Lang": "Elixir",
            "LangSlug": "elixir",
            "Code": "defmodule Solution do\n  @spec max_score(nums1 :: [integer], nums2 :: [integer], k :: integer) :: integer\n  def max_score(nums1, nums2, k) do\n    \n  end\nend"
          },
          {
            "Lang": "Erlang",
            "LangSlug": "erlang",
            "Code": "-spec max_score(Nums1 :: [integer()], Nums2 :: [integer()], K :: integer()) -> integer().\nmax_score(Nums1, Nums2, K) ->\n  ."
          },
          {
            "Lang": "Racket",
            "LangSlug": "racket",
            "Code": "(define/contract (max-score nums1 nums2 k)\n  (-> (listof exact-integer?) (listof exact-integer?) exact-integer? exact-integer?)\n  )"
          }
        ],
        "CompanyTagStats": ""
      }
    },
    "DownloadedAt": "2025-11-17T13:22:03.293358+01:00",
    "AcRate": "54.4",
    "TotalSubmissions": 261751,
    "TotalAccepted": 142427,
    "AcceptanceRate": 0.5441316365553522,
    "ContentFeatures": "",
    "CodeSnippetFeatures": {
      "c": "",
      "cpp": "",
      "csharp": "",
      "dart": "",
      "elixir": "",
      "erlang": "",
      "golang": "",
      "java": "",
      "javascript": "",
      "kotlin": "",
      "php": "",
      "python": "",
      "python3": "",
      "racket": "",
      "ruby": "",
      "rust": "",
      "scala": "",
      "swift": "",
      "typescript": ""
    },
    "Url": "https://leetcode.com/problems/maximum-subsequence-score/"
  },
  "Solutions": {
    "deepseek/deepseek-chat-v3.1": {
      "Lang": "python3",
      "Prompt": "Multi-agent approach:\n1. Analysis\n2. Design\n3. Implementation\n4. Verification",
      "Answer": "=== ANALYSIS ===\n```python\nclass Solution:\n    def maxScore(self, nums1: List[int], nums2: List[int], k: int) -> int:\n        pairs = [(n2, n1) for n2, n1 in zip(nums2, nums1)]\n        pairs.sort(reverse=True)\n        \n        import heapq\n        min_heap = []\n        sum_nums1 = 0\n        result = 0\n        \n        for n2, n1 in pairs:\n            heapq.heappush(min_heap, n1)\n            sum_nums1 += n1\n            \n            if len(min_heap) > k:\n                smallest = heapq.heappop(min_heap)\n                sum_nums1 -= smallest\n                \n            if len(min_heap) == k:\n                result = max(result, sum_nums1 * n2)\n                \n        return result\n```\n\n=== DESIGN ===\nGiven the problem and the analysis, here is the solution:\n\n```python\nclass Solution:\n    def maxScore(self, nums1: List[int], nums2: List[int], k: int) -> int:\n        pairs = []\n        for i in range(len(nums1)):\n            pairs.append((nums2[i], nums1[i]))\n        pairs.sort(key=lambda x: x[0], reverse=True)\n        \n        import heapq\n        min_heap = []\n        total = 0\n        ans = 0\n        for n2, n1 in pairs:\n            heapq.heappush(min_heap, n1)\n            total += n1\n            if len(min_heap) > k:\n                smallest = heapq.heappop(min_heap)\n                total -= smallest\n            if len(min_heap) == k:\n                ans = max(ans, total * n2)\n        return ans\n```\n\n=== IMPLEMENTATION ===\n```python\nclass Solution:\n    def maxScore(self, nums1: List[int], nums2: List[int], k: int) -> int:\n        pairs = []\n        for i in range(len(nums1)):\n            pairs.append((nums2[i], nums1[i]))\n        pairs.sort(key=lambda x: x[0], reverse=True)\n        \n        import heapq\n        min_heap = []\n        total = 0\n        ans = 0\n        for n2, n1 in pairs:\n            heapq.heappush(min_heap, n1)\n            total += n1\n            if len(min_heap) > k:\n                smallest = heapq.heappop(min_heap)\n                total -= smallest\n            if len(min_heap) == k:\n                ans = max(ans, total * n2)\n        return ans\n```\n\n=== VERIFICATION ===\n**Verification Report:**\n\n1. **Correctness**: The code correctly implements the designed algorithm. It pairs each element from `nums2` with the corresponding element in `nums1`, sorts these pairs in descending order based on `nums2`, and then uses a min-heap to maintain the top `k` largest `nums1` values encountered so far. For each pair, it calculates the score as the sum of the current heap elements multiplied by the current `nums2` value (which is the minimum in the subsequence due to the descending sort) and updates the maximum result.\n\n2. **Edge Cases**: The code handles edge cases such as:\n   - `k = 1`: It correctly returns the maximum product of `nums1[i] * nums2[i]` (as in Example 2).\n   - Large `n` (up to 10^5): The algorithm uses efficient operations (sorting and heap operations) with a time complexity of O(n log n), which is acceptable.\n   - All zeros: The code would work correctly with zeros since the operations are straightforward.\n\n3. **Complexity**: The time complexity is O(n log n) due to sorting and O(n log k) for heap operations, which is efficient for the constraints. The space complexity is O(n) for storing pairs and O(k) for the heap.\n\n4. **Code Quality**: The code is clean and readable. It uses appropriate data structures (heapq for the min-heap) and follows Python best practices. The variable names are meaningful.\n\n5. **Test Cases**:\n   - Example 1: \n        nums1 = [1,3,3,2], nums2 = [2,1,3,4], k = 3\n        Pairs sorted by nums2 descending: [(4,2), (3,3), (2,1), (1,3)]\n        Iteration:\n            n2=4, n1=2 -> heap=[2], total=2 -> len=1\n            n2=3, n1=3 -> heap=[2,3] (min-heap), total=5 -> len=2\n            n2=2, n1=1 -> heap=[1,2,3] (push 1, then pop smallest? Wait, we have len=3 now, so we check: if len>k? k=3 -> no pop. Then update result: total=6 * n2=2 -> 12.\n            n2=1, n1=3 -> push 3 -> heap=[1,2,3,3] -> len=4 > k -> pop smallest (1) -> total=8 -> then len=3 -> result = max(12, 8*1)=12.\n        Output is 12, which matches.\n   - Example 2:\n        nums1 = [4,2,3,1,1], nums2 = [7,5,10,9,6], k=1\n        Pairs sorted by nums2 descending: [(10,3), (9,1), (7,4), (6,1), (5,2)]\n        For the first element: n2=10, n1=3 -> heap=[3], total=3 -> len=1 -> result = 3*10=30.\n        Next elements will have lower n2 (so product will be lower) and we are only required to have k=1. So output 30 is correct.\n\n6. **Potential Issues**: None found. The solution is efficient and correct.\n\n**Conclusion**: The solution is valid and meets all requirements. No changes are needed.\n\nFinal code:\n```python\nclass Solution:\n    def maxScore(self, nums1: List[int], nums2: List[int], k: int) -> int:\n        pairs = []\n        for i in range(len(nums1)):\n            pairs.append((nums2[i], nums1[i]))\n        pairs.sort(key=lambda x: x[0], reverse=True)\n        \n        import heapq\n        min_heap = []\n        total = 0\n        ans = 0\n        for n2, n1 in pairs:\n            heapq.heappush(min_heap, n1)\n            total += n1\n            if len(min_heap) > k:\n                smallest = heapq.heappop(min_heap)\n                total -= smallest\n            if len(min_heap) == k:\n                ans = max(ans, total * n2)\n        return ans\n```\n\n",
      "TypedCode": "\nclass Solution:\n    def maxScore(self, nums1: List[int], nums2: List[int], k: int) -> int:\n        pairs = []\n        for i in range(len(nums1)):\n            pairs.append((nums2[i], nums1[i]))\n        pairs.sort(key=lambda x: x[0], reverse=True)\n        \n        import heapq\n        min_heap = []\n        total = 0\n        ans = 0\n        for n2, n1 in pairs:\n            heapq.heappush(min_heap, n1)\n            total += n1\n            if len(min_heap) > k:\n                smallest = heapq.heappop(min_heap)\n                total -= smallest\n            if len(min_heap) == k:\n                ans = max(ans, total * n2)\n        return ans\n",
      "Model": "deepseek/deepseek-chat-v3.1",
      "Latency": 20733856416,
      "SolvedAt": "2025-11-21T00:06:59.351079+01:00",
      "PromptTokens": 4642,
      "OutputTokens": 1457
    }
  },
  "Submissions": {
    "deepseek/deepseek-chat-v3.1": {
      "SubmitRequest": {
        "lang": "python3",
        "question_id": "2636",
        "typed_code": "\nclass Solution:\n    def maxScore(self, nums1: List[int], nums2: List[int], k: int) -> int:\n        pairs = []\n        for i in range(len(nums1)):\n            pairs.append((nums2[i], nums1[i]))\n        pairs.sort(key=lambda x: x[0], reverse=True)\n        \n        import heapq\n        min_heap = []\n        total = 0\n        ans = 0\n        for n2, n1 in pairs:\n            heapq.heappush(min_heap, n1)\n            total += n1\n            if len(min_heap) > k:\n                smallest = heapq.heappop(min_heap)\n                total -= smallest\n            if len(min_heap) == k:\n                ans = max(ans, total * n2)\n        return ans\n"
      },
      "SubmissionId": 0,
      "CheckResponse": {
        "status_code": 10,
        "status_msg": "Accepted",
        "Finished": true,
        "State": "SUCCESS"
      },
      "SubmittedAt": "2025-11-21T03:15:36+01:00"
    }
  }
}