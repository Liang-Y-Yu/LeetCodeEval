{
  "Question": {
    "Data": {
      "Question": {
        "questionFrontendId": "239",
        "questionId": "239",
        "Content": "<p>You are given an array of integers&nbsp;<code>nums</code>, there is a sliding window of size <code>k</code> which is moving from the very left of the array to the very right. You can only see the <code>k</code> numbers in the window. Each time the sliding window moves right by one position.</p>\n\n<p>Return <em>the max sliding window</em>.</p>\n\n<p>&nbsp;</p>\n<p><strong class=\"example\">Example 1:</strong></p>\n\n<pre>\n<strong>Input:</strong> nums = [1,3,-1,-3,5,3,6,7], k = 3\n<strong>Output:</strong> [3,3,5,5,6,7]\n<strong>Explanation:</strong> \nWindow position                Max\n---------------               -----\n[1  3  -1] -3  5  3  6  7       <strong>3</strong>\n 1 [3  -1  -3] 5  3  6  7       <strong>3</strong>\n 1  3 [-1  -3  5] 3  6  7      <strong> 5</strong>\n 1  3  -1 [-3  5  3] 6  7       <strong>5</strong>\n 1  3  -1  -3 [5  3  6] 7       <strong>6</strong>\n 1  3  -1  -3  5 [3  6  7]      <strong>7</strong>\n</pre>\n\n<p><strong class=\"example\">Example 2:</strong></p>\n\n<pre>\n<strong>Input:</strong> nums = [1], k = 1\n<strong>Output:</strong> [1]\n</pre>\n\n<p>&nbsp;</p>\n<p><strong>Constraints:</strong></p>\n\n<ul>\n\t<li><code>1 &lt;= nums.length &lt;= 10<sup>5</sup></code></li>\n\t<li><code>-10<sup>4</sup> &lt;= nums[i] &lt;= 10<sup>4</sup></code></li>\n\t<li><code>1 &lt;= k &lt;= nums.length</code></li>\n</ul>\n",
        "SampleTestCase": "[1,3,-1,-3,5,3,6,7]\n3",
        "ExampleTestcases": "[1,3,-1,-3,5,3,6,7]\n3\n[1]\n1",
        "Difficulty": "Hard",
        "Title": "Sliding Window Maximum",
        "TitleSlug": "sliding-window-maximum",
        "IsPaidOnly": false,
        "Stats": "{\"totalAccepted\": \"1.5M\", \"totalSubmission\": \"3.1M\", \"totalAcceptedRaw\": 1500044, \"totalSubmissionRaw\": 3117997, \"acRate\": \"48.1%\"}",
        "Likes": 19886,
        "Dislikes": 799,
        "FreqBar": 0,
        "CategoryTitle": "Algorithms",
        "TopicTags": [
          {
            "Id": "VG9waWNUYWdOb2RlOjU=",
            "Name": "Array",
            "Slug": "array"
          },
          {
            "Id": "VG9waWNUYWdOb2RlOjM0",
            "Name": "Queue",
            "Slug": "queue"
          },
          {
            "Id": "VG9waWNUYWdOb2RlOjU1ODIx",
            "Name": "Sliding Window",
            "Slug": "sliding-window"
          },
          {
            "Id": "VG9waWNUYWdOb2RlOjYxMDUw",
            "Name": "Heap (Priority Queue)",
            "Slug": "heap-priority-queue"
          },
          {
            "Id": "VG9waWNUYWdOb2RlOjYxMDcx",
            "Name": "Monotonic Queue",
            "Slug": "monotonic-queue"
          }
        ],
        "CodeSnippets": [
          {
            "Lang": "C++",
            "LangSlug": "cpp",
            "Code": "class Solution {\npublic:\n    vector<int> maxSlidingWindow(vector<int>& nums, int k) {\n        \n    }\n};"
          },
          {
            "Lang": "Java",
            "LangSlug": "java",
            "Code": "class Solution {\n    public int[] maxSlidingWindow(int[] nums, int k) {\n        \n    }\n}"
          },
          {
            "Lang": "Python3",
            "LangSlug": "python3",
            "Code": "class Solution:\n    def maxSlidingWindow(self, nums: List[int], k: int) -> List[int]:\n        "
          },
          {
            "Lang": "Python",
            "LangSlug": "python",
            "Code": "class Solution(object):\n    def maxSlidingWindow(self, nums, k):\n        \"\"\"\n        :type nums: List[int]\n        :type k: int\n        :rtype: List[int]\n        \"\"\"\n        "
          },
          {
            "Lang": "JavaScript",
            "LangSlug": "javascript",
            "Code": "/**\n * @param {number[]} nums\n * @param {number} k\n * @return {number[]}\n */\nvar maxSlidingWindow = function(nums, k) {\n    \n};"
          },
          {
            "Lang": "TypeScript",
            "LangSlug": "typescript",
            "Code": "function maxSlidingWindow(nums: number[], k: number): number[] {\n    \n};"
          },
          {
            "Lang": "C#",
            "LangSlug": "csharp",
            "Code": "public class Solution {\n    public int[] MaxSlidingWindow(int[] nums, int k) {\n        \n    }\n}"
          },
          {
            "Lang": "C",
            "LangSlug": "c",
            "Code": "/**\n * Note: The returned array must be malloced, assume caller calls free().\n */\nint* maxSlidingWindow(int* nums, int numsSize, int k, int* returnSize) {\n    \n}"
          },
          {
            "Lang": "Go",
            "LangSlug": "golang",
            "Code": "func maxSlidingWindow(nums []int, k int) []int {\n    \n}"
          },
          {
            "Lang": "Kotlin",
            "LangSlug": "kotlin",
            "Code": "class Solution {\n    fun maxSlidingWindow(nums: IntArray, k: Int): IntArray {\n        \n    }\n}"
          },
          {
            "Lang": "Swift",
            "LangSlug": "swift",
            "Code": "class Solution {\n    func maxSlidingWindow(_ nums: [Int], _ k: Int) -> [Int] {\n        \n    }\n}"
          },
          {
            "Lang": "Rust",
            "LangSlug": "rust",
            "Code": "impl Solution {\n    pub fn max_sliding_window(nums: Vec<i32>, k: i32) -> Vec<i32> {\n        \n    }\n}"
          },
          {
            "Lang": "Ruby",
            "LangSlug": "ruby",
            "Code": "# @param {Integer[]} nums\n# @param {Integer} k\n# @return {Integer[]}\ndef max_sliding_window(nums, k)\n    \nend"
          },
          {
            "Lang": "PHP",
            "LangSlug": "php",
            "Code": "class Solution {\n\n    /**\n     * @param Integer[] $nums\n     * @param Integer $k\n     * @return Integer[]\n     */\n    function maxSlidingWindow($nums, $k) {\n        \n    }\n}"
          },
          {
            "Lang": "Dart",
            "LangSlug": "dart",
            "Code": "class Solution {\n  List<int> maxSlidingWindow(List<int> nums, int k) {\n    \n  }\n}"
          },
          {
            "Lang": "Scala",
            "LangSlug": "scala",
            "Code": "object Solution {\n    def maxSlidingWindow(nums: Array[Int], k: Int): Array[Int] = {\n        \n    }\n}"
          },
          {
            "Lang": "Elixir",
            "LangSlug": "elixir",
            "Code": "defmodule Solution do\n  @spec max_sliding_window(nums :: [integer], k :: integer) :: [integer]\n  def max_sliding_window(nums, k) do\n    \n  end\nend"
          },
          {
            "Lang": "Erlang",
            "LangSlug": "erlang",
            "Code": "-spec max_sliding_window(Nums :: [integer()], K :: integer()) -> [integer()].\nmax_sliding_window(Nums, K) ->\n  ."
          },
          {
            "Lang": "Racket",
            "LangSlug": "racket",
            "Code": "(define/contract (max-sliding-window nums k)\n  (-> (listof exact-integer?) exact-integer? (listof exact-integer?))\n  )"
          }
        ],
        "CompanyTagStats": ""
      }
    },
    "DownloadedAt": "2025-11-17T15:25:34.534997+01:00",
    "AcRate": "48.1",
    "TotalSubmissions": 3117997,
    "TotalAccepted": 1500044,
    "AcceptanceRate": 0.48109218835040574,
    "ContentFeatures": "",
    "CodeSnippetFeatures": {
      "c": "",
      "cpp": "",
      "csharp": "",
      "dart": "",
      "elixir": "",
      "erlang": "",
      "golang": "",
      "java": "",
      "javascript": "",
      "kotlin": "",
      "php": "",
      "python": "",
      "python3": "",
      "racket": "",
      "ruby": "",
      "rust": "",
      "scala": "",
      "swift": "",
      "typescript": ""
    },
    "Url": "https://leetcode.com/problems/sliding-window-maximum/"
  },
  "Solutions": {
    "anthropic/claude-sonnet-4.5": {
      "Lang": "python3",
      "Prompt": "Multi-agent approach:\n1. Analysis\n2. Design\n3. Implementation\n4. Verification",
      "Answer": "=== ANALYSIS ===\nLooking at this problem, I need to analyze it and then provide a solution.\n\n## Analysis:\n\n1. **Problem Type Classification**: Array, Queue, Monotonic Data Structure\n2. **Key Patterns & Algorithms**: Sliding Window, Monotonic Deque\n3. **Constraints Analysis**: With n up to 10^5, we need O(n) or O(n log n) solution. O(n*k) would be too slow.\n4. **Edge Cases**: \n   - Single element array\n   - k = 1 (each element is its own max)\n   - k = n (only one window)\n   - Negative numbers\n   - Decreasing/increasing sequences\n5. **Input/Output Analysis**: \n   - Input: array of integers and window size k\n   - Output: array of maximums for each window position\n6. **Difficulty Assessment**: The challenge is maintaining the maximum efficiently as the window slides. A naive O(n*k) approach won't scale.\n\n## Solution Strategy:\n\nThe optimal approach uses a **monotonic decreasing deque** that stores indices:\n- The deque maintains potential maximum candidates in decreasing order of their values\n- Front of deque always contains the index of the maximum element in current window\n- When sliding, remove indices outside the window from front\n- Remove smaller elements from back before adding new element (they can't be max if current is larger and more recent)\n\nThis achieves O(n) time complexity as each element is added and removed at most once.\n\n```python\nfrom typing import List\nfrom collections import deque\n\nclass Solution:\n    def maxSlidingWindow(self, nums: List[int], k: int) -> List[int]:\n        if not nums or k == 0:\n            return []\n        \n        if k == 1:\n            return nums\n        \n        result = []\n        dq = deque()\n        \n        for i in range(len(nums)):\n            while dq and dq[0] < i - k + 1:\n                dq.popleft()\n            \n            while dq and nums[dq[-1]] < nums[i]:\n                dq.pop()\n            \n            dq.append(i)\n            \n            if i >= k - 1:\n                result.append(nums[dq[0]])\n        \n        return result\n```\n\n=== DESIGN ===\n```python\nfrom typing import List\nfrom collections import deque\n\nclass Solution:\n    def maxSlidingWindow(self, nums: List[int], k: int) -> List[int]:\n        if not nums or k == 0:\n            return []\n        \n        if k == 1:\n            return nums\n        \n        result = []\n        dq = deque()\n        \n        for i in range(len(nums)):\n            while dq and dq[0] < i - k + 1:\n                dq.popleft()\n            \n            while dq and nums[dq[-1]] < nums[i]:\n                dq.pop()\n            \n            dq.append(i)\n            \n            if i >= k - 1:\n                result.append(nums[dq[0]])\n        \n        return result\n```\n\n=== IMPLEMENTATION ===\n```python\nfrom typing import List\nfrom collections import deque\n\nclass Solution:\n    def maxSlidingWindow(self, nums: List[int], k: int) -> List[int]:\n        if not nums or k == 0:\n            return []\n        \n        if k == 1:\n            return nums\n        \n        result = []\n        dq = deque()\n        \n        for i in range(len(nums)):\n            while dq and dq[0] < i - k + 1:\n                dq.popleft()\n            \n            while dq and nums[dq[-1]] < nums[i]:\n                dq.pop()\n            \n            dq.append(i)\n            \n            if i >= k - 1:\n                result.append(nums[dq[0]])\n        \n        return result\n```\n\n=== VERIFICATION ===\n```python\nfrom typing import List\nfrom collections import deque\n\nclass Solution:\n    def maxSlidingWindow(self, nums: List[int], k: int) -> List[int]:\n        if not nums or k == 0:\n            return []\n        \n        if k == 1:\n            return nums\n        \n        result = []\n        dq = deque()\n        \n        for i in range(len(nums)):\n            while dq and dq[0] < i - k + 1:\n                dq.popleft()\n            \n            while dq and nums[dq[-1]] < nums[i]:\n                dq.pop()\n            \n            dq.append(i)\n            \n            if i >= k - 1:\n                result.append(nums[dq[0]])\n        \n        return result\n```\n\n",
      "TypedCode": "\nfrom typing import List\nfrom collections import deque\n\nclass Solution:\n    def maxSlidingWindow(self, nums: List[int], k: int) -> List[int]:\n        if not nums or k == 0:\n            return []\n        \n        if k == 1:\n            return nums\n        \n        result = []\n        dq = deque()\n        \n        for i in range(len(nums)):\n            while dq and dq[0] < i - k + 1:\n                dq.popleft()\n            \n            while dq and nums[dq[-1]] < nums[i]:\n                dq.pop()\n            \n            dq.append(i)\n            \n            if i >= k - 1:\n                result.append(nums[dq[0]])\n        \n        return result\n",
      "Model": "anthropic/claude-sonnet-4.5",
      "Latency": 17753340125,
      "SolvedAt": "2025-11-19T23:58:42.882694+01:00",
      "PromptTokens": 5190,
      "OutputTokens": 1148
    }
  },
  "Submissions": {
    "anthropic/claude-sonnet-4.5": {
      "SubmitRequest": {
        "lang": "python3",
        "question_id": "239",
        "typed_code": "\nfrom typing import List\nfrom collections import deque\n\nclass Solution:\n    def maxSlidingWindow(self, nums: List[int], k: int) -> List[int]:\n        if not nums or k == 0:\n            return []\n        \n        if k == 1:\n            return nums\n        \n        result = []\n        dq = deque()\n        \n        for i in range(len(nums)):\n            while dq and dq[0] < i - k + 1:\n                dq.popleft()\n            \n            while dq and nums[dq[-1]] < nums[i]:\n                dq.pop()\n            \n            dq.append(i)\n            \n            if i >= k - 1:\n                result.append(nums[dq[0]])\n        \n        return result\n"
      },
      "SubmissionId": 0,
      "CheckResponse": {
        "status_code": 10,
        "status_msg": "Accepted",
        "Finished": true,
        "State": "SUCCESS"
      },
      "SubmittedAt": "2025-11-20T08:35:18+01:00"
    }
  }
}