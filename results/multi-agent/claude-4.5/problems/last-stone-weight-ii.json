{
  "Question": {
    "Data": {
      "Question": {
        "questionFrontendId": "1049",
        "questionId": "1130",
        "Content": "<p>You are given an array of integers <code>stones</code> where <code>stones[i]</code> is the weight of the <code>i<sup>th</sup></code> stone.</p>\n\n<p>We are playing a game with the stones. On each turn, we choose any two stones and smash them together. Suppose the stones have weights <code>x</code> and <code>y</code> with <code>x &lt;= y</code>. The result of this smash is:</p>\n\n<ul>\n\t<li>If <code>x == y</code>, both stones are destroyed, and</li>\n\t<li>If <code>x != y</code>, the stone of weight <code>x</code> is destroyed, and the stone of weight <code>y</code> has new weight <code>y - x</code>.</li>\n</ul>\n\n<p>At the end of the game, there is <strong>at most one</strong> stone left.</p>\n\n<p>Return <em>the smallest possible weight of the left stone</em>. If there are no stones left, return <code>0</code>.</p>\n\n<p>&nbsp;</p>\n<p><strong class=\"example\">Example 1:</strong></p>\n\n<pre>\n<strong>Input:</strong> stones = [2,7,4,1,8,1]\n<strong>Output:</strong> 1\n<strong>Explanation:</strong>\nWe can combine 2 and 4 to get 2, so the array converts to [2,7,1,8,1] then,\nwe can combine 7 and 8 to get 1, so the array converts to [2,1,1,1] then,\nwe can combine 2 and 1 to get 1, so the array converts to [1,1,1] then,\nwe can combine 1 and 1 to get 0, so the array converts to [1], then that&#39;s the optimal value.\n</pre>\n\n<p><strong class=\"example\">Example 2:</strong></p>\n\n<pre>\n<strong>Input:</strong> stones = [31,26,33,21,40]\n<strong>Output:</strong> 5\n</pre>\n\n<p>&nbsp;</p>\n<p><strong>Constraints:</strong></p>\n\n<ul>\n\t<li><code>1 &lt;= stones.length &lt;= 30</code></li>\n\t<li><code>1 &lt;= stones[i] &lt;= 100</code></li>\n</ul>\n",
        "SampleTestCase": "[2,7,4,1,8,1]",
        "ExampleTestcases": "[2,7,4,1,8,1]\n[31,26,33,21,40]",
        "Difficulty": "Medium",
        "Title": "Last Stone Weight II",
        "TitleSlug": "last-stone-weight-ii",
        "IsPaidOnly": false,
        "Stats": "{\"totalAccepted\": \"123.4K\", \"totalSubmission\": \"210.3K\", \"totalAcceptedRaw\": 123427, \"totalSubmissionRaw\": 210309, \"acRate\": \"58.7%\"}",
        "Likes": 3326,
        "Dislikes": 137,
        "FreqBar": 0,
        "CategoryTitle": "Algorithms",
        "TopicTags": [
          {
            "Id": "VG9waWNUYWdOb2RlOjU=",
            "Name": "Array",
            "Slug": "array"
          },
          {
            "Id": "VG9waWNUYWdOb2RlOjEz",
            "Name": "Dynamic Programming",
            "Slug": "dynamic-programming"
          }
        ],
        "CodeSnippets": [
          {
            "Lang": "C++",
            "LangSlug": "cpp",
            "Code": "class Solution {\npublic:\n    int lastStoneWeightII(vector<int>& stones) {\n        \n    }\n};"
          },
          {
            "Lang": "Java",
            "LangSlug": "java",
            "Code": "class Solution {\n    public int lastStoneWeightII(int[] stones) {\n        \n    }\n}"
          },
          {
            "Lang": "Python3",
            "LangSlug": "python3",
            "Code": "class Solution:\n    def lastStoneWeightII(self, stones: List[int]) -> int:\n        "
          },
          {
            "Lang": "Python",
            "LangSlug": "python",
            "Code": "class Solution(object):\n    def lastStoneWeightII(self, stones):\n        \"\"\"\n        :type stones: List[int]\n        :rtype: int\n        \"\"\"\n        "
          },
          {
            "Lang": "JavaScript",
            "LangSlug": "javascript",
            "Code": "/**\n * @param {number[]} stones\n * @return {number}\n */\nvar lastStoneWeightII = function(stones) {\n    \n};"
          },
          {
            "Lang": "TypeScript",
            "LangSlug": "typescript",
            "Code": "function lastStoneWeightII(stones: number[]): number {\n    \n};"
          },
          {
            "Lang": "C#",
            "LangSlug": "csharp",
            "Code": "public class Solution {\n    public int LastStoneWeightII(int[] stones) {\n        \n    }\n}"
          },
          {
            "Lang": "C",
            "LangSlug": "c",
            "Code": "int lastStoneWeightII(int* stones, int stonesSize) {\n    \n}"
          },
          {
            "Lang": "Go",
            "LangSlug": "golang",
            "Code": "func lastStoneWeightII(stones []int) int {\n    \n}"
          },
          {
            "Lang": "Kotlin",
            "LangSlug": "kotlin",
            "Code": "class Solution {\n    fun lastStoneWeightII(stones: IntArray): Int {\n        \n    }\n}"
          },
          {
            "Lang": "Swift",
            "LangSlug": "swift",
            "Code": "class Solution {\n    func lastStoneWeightII(_ stones: [Int]) -> Int {\n        \n    }\n}"
          },
          {
            "Lang": "Rust",
            "LangSlug": "rust",
            "Code": "impl Solution {\n    pub fn last_stone_weight_ii(stones: Vec<i32>) -> i32 {\n        \n    }\n}"
          },
          {
            "Lang": "Ruby",
            "LangSlug": "ruby",
            "Code": "# @param {Integer[]} stones\n# @return {Integer}\ndef last_stone_weight_ii(stones)\n    \nend"
          },
          {
            "Lang": "PHP",
            "LangSlug": "php",
            "Code": "class Solution {\n\n    /**\n     * @param Integer[] $stones\n     * @return Integer\n     */\n    function lastStoneWeightII($stones) {\n        \n    }\n}"
          },
          {
            "Lang": "Dart",
            "LangSlug": "dart",
            "Code": "class Solution {\n  int lastStoneWeightII(List<int> stones) {\n    \n  }\n}"
          },
          {
            "Lang": "Scala",
            "LangSlug": "scala",
            "Code": "object Solution {\n    def lastStoneWeightII(stones: Array[Int]): Int = {\n        \n    }\n}"
          },
          {
            "Lang": "Elixir",
            "LangSlug": "elixir",
            "Code": "defmodule Solution do\n  @spec last_stone_weight_ii(stones :: [integer]) :: integer\n  def last_stone_weight_ii(stones) do\n    \n  end\nend"
          },
          {
            "Lang": "Erlang",
            "LangSlug": "erlang",
            "Code": "-spec last_stone_weight_ii(Stones :: [integer()]) -> integer().\nlast_stone_weight_ii(Stones) ->\n  ."
          },
          {
            "Lang": "Racket",
            "LangSlug": "racket",
            "Code": "(define/contract (last-stone-weight-ii stones)\n  (-> (listof exact-integer?) exact-integer?)\n  )"
          }
        ],
        "CompanyTagStats": ""
      }
    },
    "DownloadedAt": "2025-11-17T14:44:49.944708+01:00",
    "AcRate": "58.7",
    "TotalSubmissions": 210309,
    "TotalAccepted": 123427,
    "AcceptanceRate": 0.5868840610720416,
    "ContentFeatures": "",
    "CodeSnippetFeatures": {
      "c": "",
      "cpp": "",
      "csharp": "",
      "dart": "",
      "elixir": "",
      "erlang": "",
      "golang": "",
      "java": "",
      "javascript": "",
      "kotlin": "",
      "php": "",
      "python": "",
      "python3": "",
      "racket": "",
      "ruby": "",
      "rust": "",
      "scala": "",
      "swift": "",
      "typescript": ""
    },
    "Url": "https://leetcode.com/problems/last-stone-weight-ii/"
  },
  "Solutions": {
    "anthropic/claude-sonnet-4.5": {
      "Lang": "python3",
      "Prompt": "Multi-agent approach:\n1. Analysis\n2. Design\n3. Implementation\n4. Verification",
      "Answer": "=== ANALYSIS ===\nLooking at this problem, I need to analyze it thoroughly before providing the solution.\n\n## Problem Analysis\n\n**1. Problem Type Classification:**\n- Dynamic Programming (specifically subset sum variant / 0-1 knapsack)\n- Partition problem\n\n**2. Key Patterns & Algorithms:**\nThe key insight is that smashing stones is equivalent to assigning +/- signs to each stone. The final result is the absolute difference between two groups. To minimize this, we want to partition stones into two groups with sums as close as possible to `total_sum/2`.\n\nThis transforms into: Find a subset with sum closest to `total_sum/2`, then the answer is `total_sum - 2*subset_sum`.\n\n**3. Constraints Analysis:**\n- n \u2264 30, stones[i] \u2264 100\n- Maximum total sum = 30 * 100 = 3000\n- Time: O(n * sum) is acceptable\n- Space: O(sum) with optimized DP\n\n**4. Edge Cases:**\n- Single stone: return that stone's weight\n- All stones equal: depends on count (even\u21920, odd\u2192one stone)\n- Two stones with different weights\n\n**5. Input/Output Analysis:**\n- Input: List of positive integers\n- Output: Single non-negative integer (minimum possible weight)\n\n**6. Difficulty Assessment:**\nThe challenge is recognizing this as a partition/subset sum problem rather than a simulation problem.\n\n## Solution\n\n```python\nclass Solution:\n    def lastStoneWeightII(self, stones: List[int]) -> int:\n        total_sum = sum(stones)\n        target = total_sum // 2\n        \n        dp = [False] * (target + 1)\n        dp[0] = True\n        \n        for stone in stones:\n            for j in range(target, stone - 1, -1):\n                dp[j] = dp[j] or dp[j - stone]\n        \n        for i in range(target, -1, -1):\n            if dp[i]:\n                return total_sum - 2 * i\n        \n        return 0\n```\n\nThe algorithm:\n1. Calculate total sum of all stones\n2. Find target = total_sum // 2 (we want subset sum closest to this)\n3. Use DP to find all possible subset sums up to target\n4. Find the largest achievable sum \u2264 target\n5. Return total_sum - 2 * (largest achievable sum)\n\nThis works because if we partition stones into two groups with sums S1 and S2 where S1 + S2 = total_sum, the final stone weight is |S1 - S2|. To minimize this, we want S1 \u2248 S2 \u2248 total_sum/2.\n\n=== DESIGN ===\n```python\nfrom typing import List\n\nclass Solution:\n    def lastStoneWeightII(self, stones: List[int]) -> int:\n        total_sum = sum(stones)\n        target = total_sum // 2\n        \n        dp = [False] * (target + 1)\n        dp[0] = True\n        \n        for stone in stones:\n            for j in range(target, stone - 1, -1):\n                dp[j] = dp[j] or dp[j - stone]\n        \n        for i in range(target, -1, -1):\n            if dp[i]:\n                return total_sum - 2 * i\n        \n        return 0\n```\n\n=== IMPLEMENTATION ===\n```python\nfrom typing import List\n\nclass Solution:\n    def lastStoneWeightII(self, stones: List[int]) -> int:\n        total_sum = sum(stones)\n        target = total_sum // 2\n        \n        dp = [False] * (target + 1)\n        dp[0] = True\n        \n        for stone in stones:\n            for j in range(target, stone - 1, -1):\n                dp[j] = dp[j] or dp[j - stone]\n        \n        for i in range(target, -1, -1):\n            if dp[i]:\n                return total_sum - 2 * i\n        \n        return 0\n```\n\n=== VERIFICATION ===\n```python\nfrom typing import List\n\nclass Solution:\n    def lastStoneWeightII(self, stones: List[int]) -> int:\n        total_sum = sum(stones)\n        target = total_sum // 2\n        \n        dp = [False] * (target + 1)\n        dp[0] = True\n        \n        for stone in stones:\n            for j in range(target, stone - 1, -1):\n                dp[j] = dp[j] or dp[j - stone]\n        \n        for i in range(target, -1, -1):\n            if dp[i]:\n                return total_sum - 2 * i\n        \n        return 0\n```\n\n",
      "TypedCode": "\nfrom typing import List\n\nclass Solution:\n    def lastStoneWeightII(self, stones: List[int]) -> int:\n        total_sum = sum(stones)\n        target = total_sum // 2\n        \n        dp = [False] * (target + 1)\n        dp[0] = True\n        \n        for stone in stones:\n            for j in range(target, stone - 1, -1):\n                dp[j] = dp[j] or dp[j - stone]\n        \n        for i in range(target, -1, -1):\n            if dp[i]:\n                return total_sum - 2 * i\n        \n        return 0\n",
      "Model": "anthropic/claude-sonnet-4.5",
      "Latency": 19451880458,
      "SolvedAt": "2025-11-19T23:37:05.474135+01:00",
      "PromptTokens": 5547,
      "OutputTokens": 1158
    }
  },
  "Submissions": {
    "anthropic/claude-sonnet-4.5": {
      "SubmitRequest": {
        "lang": "python3",
        "question_id": "1130",
        "typed_code": "\nfrom typing import List\n\nclass Solution:\n    def lastStoneWeightII(self, stones: List[int]) -> int:\n        total_sum = sum(stones)\n        target = total_sum // 2\n        \n        dp = [False] * (target + 1)\n        dp[0] = True\n        \n        for stone in stones:\n            for j in range(target, stone - 1, -1):\n                dp[j] = dp[j] or dp[j - stone]\n        \n        for i in range(target, -1, -1):\n            if dp[i]:\n                return total_sum - 2 * i\n        \n        return 0\n"
      },
      "SubmissionId": 0,
      "CheckResponse": {
        "status_code": 10,
        "status_msg": "Accepted",
        "Finished": true,
        "State": "SUCCESS"
      },
      "SubmittedAt": "2025-11-20T08:39:49+01:00"
    }
  }
}